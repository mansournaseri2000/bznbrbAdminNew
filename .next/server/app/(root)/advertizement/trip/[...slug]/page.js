(()=>{var e={};e.id=688,e.ids=[688],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},91627:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>d,originalPathname:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>p}),t(5747),t(13586),t(35866),t(28928);var r=t(23191),i=t(88716),n=t(37922),a=t.n(n),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let p=["",{children:["(root)",{children:["advertizement",{children:["trip",{children:["[...slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5747)),"/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/advertizement/trip/[...slug]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13586)),"/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,28928)),"/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/advertizement/trip/[...slug]/page.tsx"],c="/(root)/advertizement/trip/[...slug]/page",d={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(root)/advertizement/trip/[...slug]/page",pathname:"/advertizement/trip/[...slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},49130:(e,s,t)=>{Promise.resolve().then(t.bind(t,91751))},91751:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var r=t(10326),i=t(17577),n=t(76667),a=t(88538),l=t(35047),o=t(39454),p=t(44976),u=t(10119),c=t(37419),d=t(95441),x=t(45313),g=t(92766),y=t(58072),m=t(91629),h=t(26566),j=t(26967);let v=()=>{let e=(0,l.useParams)(),s=e.slug[0],t=!0==!!e.slug[3]?Number(e.slug[7]):Number(e.slug[2]),a=!0==!!e.slug[3]?"children":"parent",v=(0,p.NL)(),[b,k]=(0,i.useState)(null),[q,f]=(0,i.useState)({isOpen:!1,key:"create"}),{data:w,isLoading:_,isError:P,isFetching:z}=(0,n.a)({queryKey:["ads-page-type"],queryFn:async()=>await (0,c._5)(s,t,a)}),{mutate:C,isPending:$}=(0,u.D)({mutationFn:async e=>await (0,c.Vl)(e),onSuccess:e=>{e.status?(v.invalidateQueries({queryKey:["ads-page-type"]}),(0,g.xO)("آگهی مورد نظر با موفقیت ایجاد شد"),f({...q,isOpen:!1})):(0,g.bW)("مشکلی پیش آمده است. لطفا مجددا تلاش کنید")}}),{mutate:A,isPending:O}=(0,u.D)({mutationFn:async e=>await (0,c.qo)(e),onSuccess:e=>{e.status?(v.invalidateQueries({queryKey:["ads-page-type"]}),(0,g.xO)("آگهی مورد نظر با موفقیت ویرایش شد"),f({...q,isOpen:!1})):(0,g.bW)("مشکلی پیش آمده است. لطفا مجددا تلاش کنید")}}),{mutate:K,isPending:N}=(0,u.D)({mutationFn:async()=>await (0,c.Di)({id:b?.id,type:"ADS"}),onSuccess:e=>{e.status?(v.invalidateQueries({queryKey:["ads-page-type"]}),(0,g.xO)("آگهی مورد نظر با موفقیت حذف شد"),f({...q,isOpen:!1})):(0,g.bW)("مشکلی پیش آمده است. لطفا مجددا تلاش کنید")}});console.log("selected item",b);let S=e=>{f({key:e,isOpen:!0})},W=()=>{f({isOpen:!0,key:"delete"})};return _||z?r.jsx(d.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:r.jsx(o.$j,{style:{scale:2.5}})}):!w||P?(0,g.bW)("مشکلی پیش آمده . لطفا دوباره تلاش نمایید"):(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.rj,{gapY:"5",children:w.map((e,s)=>e&&r.jsx(h.Z,{onClick:()=>k(e),onDelete:()=>W(),onCreateOrEdit:S,data:e},s))}),(0,r.jsxs)(d.u_,{isOpen:q.isOpen,onClose:()=>f({...q,isOpen:!1}),children:["delete"!==q.key&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(x.Z,{title:"create"===q.key?"ثبت آگهی":"ویرایش آگهی",handleClose:()=>f({...q,isOpen:!1})}),r.jsx(j.Z,{data:b,type:q.key,isOpen:q.isOpen,onClose:()=>f({...q,isOpen:!1}),onSubmit:e=>{let s={alt:e.alt,description:e.description,file:e.imageFile,type:"ADS",sponsor:e.sponsor,website:e.website,socialMedia:e.socialMedia,summery:e.summery,page:e.page,holder:e.holder,provinceId:e.provinceId,cityId:e.cityId};console.log("payload",s),"edit"===q.key&&b?A({id:b?.id,type:"ADS",alt:s.alt,description:s.description,summery:s.summery,socialMedia:s.socialMedia,sponsor:s.sponsor,website:s.website}):"create"===q.key&&C(s)},isLoading:"create"===q.key?$:O})]}),"delete"===q.key&&(0,r.jsxs)(d.rj,{gapY:"24px",p:"5",children:[(0,r.jsxs)(d.xv,{...m.p.body1,style:{color:y.K.gray[11]},children:["آیا از حذف آگهی ",r.jsx("span",{style:{fontWeight:"bold",color:"red"},children:b?.position})," اطمینان دارید؟"]}),(0,r.jsxs)(d.rj,{gap:"10px",columns:"2",children:[r.jsx(d.zx,{variant:"soft",size:"4",onClick:()=>K(),children:r.jsx(d.xv,{...m.p.body3,children:N?r.jsx(o.$j,{}):"بله"})}),r.jsx(d.zx,{type:"button",onClick:()=>f({...q,isOpen:!1}),variant:"solid",size:"4",children:r.jsx(d.xv,{...m.p.body3,children:"خیر"})})]})]})]})]})};var b=t(98266),k=t(7003);let q=()=>{let e=(0,b.tv)(),s=(0,l.useParams)(),t=s.slug[0],i=s.slug[3],{data:a,isLoading:p,isFetching:u,isError:x}=(0,n.a)({queryKey:["cities-list"],queryFn:async()=>await (0,c.mV)(Number(i))}),y=e=>"planner_trips"===t?`planner_trips/provinces/cities/${i}/${e}`:"tours"===t?`tours/provinces/cities/${i}/${e}`:"";return p||u?r.jsx(d.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:r.jsx(o.$j,{style:{scale:2}})}):!a||x?(0,g.bW)("مشکلی پیش آمده است . لطفا مجددا تلاش کنید"):r.jsx(d.rj,{width:"100%",columns:{initial:"1",sm:"2"},gap:"5",children:a?.map((s,t)=>r.jsx(k.Z,{type:"other",lable:s.label,latestUpdatedAt:s.latestUpdatedAt,space:s.freeSpace,handleRedirectAdsManagment:()=>e.push(y(Number(s.key)))},t))})},f=()=>{let e=(0,b.tv)(),s=(0,l.useParams)().slug[0],{data:t,isLoading:i,isFetching:a,isError:p}=(0,n.a)({queryKey:["ads-list"],queryFn:async()=>await (0,c.LP)(s)}),u=e=>"planner_trips"===s?`planner_trips/provinces/${e}`:"tours"===s?`tours/provinces/${e}`:"",x=e=>"planner_trips"===s?`planner_trips/provinces/cities/${e}`:"tours"===s?`tours/provinces/cities/${e}`:"";return i||a?r.jsx(d.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:r.jsx(o.$j,{style:{scale:2}})}):!t||p?(0,g.bW)("مشکلی پیش آمده است . لطفا مجددا تلاش کنید"):r.jsx(d.rj,{width:"100%",columns:{initial:"1",sm:"2"},gap:"5",children:t.map((s,t)=>r.jsx(k.Z,{type:"provinces",lable:s.label,latestUpdatedAt:s.latestUpdatedAt,space:s.freeSpace,handleRedirectAdsManagment:()=>e.push(u(Number(s.key))),handleRedirectCities:()=>e.push(x(Number(s.key)))},t))})};var w=t(48780),_=t(71941);function P({params:e}){let s="planner_trips"===e.slug[0]&&!e.slug[1]&&!e.slug[2]||"tours"===e.slug[0]&&!e.slug[1]&&!e.slug[2],t="planner_trips"===e.slug[0]&&"provinces"===e.slug[1]&&e.slug[2]&&"cities"!==e.slug[2]||"tours"===e.slug[0]&&"provinces"===e.slug[1]&&e.slug[2]&&"cities"!==e.slug[2],i="cities"===e.slug[2]&&!0==!!e.slug[3]&&!1==!!e.slug[5],l="cities"===e.slug[2]&&!0==!!e.slug[3]&&!0==!!e.slug[4],{data:o}=(0,n.a)({queryKey:["constant"],queryFn:async()=>await (0,a.iV)()}),p=(0,_.L)(Number(e.slug[7]),o?.cities??[]),u=(0,_.L)(Number(e.slug[2]),o?.provinces??[]),c=(0,_.L)(Number(e.slug[3]),o?.provinces??[]);return(0,r.jsxs)(d.kC,{direction:"column",children:[r.jsx(w.Z,{title:"planner_trips"===e.slug[0]?!0==!!e.slug[3]&&"cities"===e.slug[2]?!0==!!e.slug[4]?` تبلیغات برنامه سفر - شهرستان ${p}`:`تبلیغات برنامه سفر - لیست شهرستان های استان ${c}`:!0==!!e.slug[2]&&"provinces"===e.slug[1]?`تبلیغات برنامه سفر - استان ${u}`:"تبلیغات برنامه سفر - لیست استان ها":"tours"===e.slug[0]?!0==!!e.slug[3]&&"cities"===e.slug[2]?!0==!!e.slug[4]?`تبلیغات لیست تورها - شهرستان ${p}`:`تبلیغات لیست تورها - لیست شهرستان های استان ${c}`:!0==!!e.slug[2]&&"provinces"===e.slug[1]?`تبلیغات لیست تورها - استان ${u}`:"تبلیغات لیست تورها - لیست استان ها":"",isNavigation:!0}),r.jsx(d.xu,{p:{initial:"24px 24px 40px 40px",lg:"24px 110px 40px 40px "},children:r.jsx(d.rj,{width:"100%",maxWidth:"1920px",mx:"auto",children:s?r.jsx(f,{}):t||l?r.jsx(v,{}):i?r.jsx(q,{}):void 0})})]})}},7003:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var r=t(10326),i=t(95441),n=t(85366),a=t(58072),l=t(91629);let o=({lable:e,latestUpdatedAt:s,space:t,type:o,holder:p,handleRedirectAdsManagment:u,handleRedirectCities:c})=>(0,r.jsxs)(i.kC,{p:"16px",justify:"between",style:{border:`1px solid ${a.K.gray[6]}`,borderRadius:"8px",backgroundColor:a.K.gray[2]},children:[(0,r.jsxs)(i.rj,{gap:"12px",children:[r.jsx(i.xv,{...l.p.body1,style:{color:a.K.gray[12]},children:e}),(0,r.jsxs)(i.kC,{align:"center",gap:"8px",children:[r.jsx(i.xv,{...l.p.description2,style:{color:a.K.gray[10]},children:"main"===o?"تعداد تبلیغات":"بنر های خالی"}),(0,r.jsxs)(i.xv,{...l.p.description2,style:{color:a.K.gray[12]},children:[t," عدد"]})]}),(0,r.jsxs)(i.kC,{align:"center",gap:"8px",children:[r.jsx(i.xv,{...l.p.description2,style:{color:a.K.gray[10]},children:"آخرین ویرایش"}),r.jsx(i.xv,{...l.p.description2,style:{color:a.K.gray[12]},children:s?(0,n.l)(s):"_"})]})]}),(0,r.jsxs)(i.kC,{direction:"column",justify:"between",align:"end",children:["main"===o&&r.jsx(i.xv,{...l.p.body1,style:{color:a.K.pink[9],paddingLeft:"4px"},children:p}),"provinces"===o&&r.jsx(i.zx,{variant:"soft",size:"2",onClick:()=>{c&&c()},children:r.jsx(i.xv,{...l.p.body3,style:{color:a.K.gray[1]},children:"شهرستان ها"})}),r.jsx(i.zx,{variant:"solid",size:"2",style:{marginBlockStart:"auto"},onClick:()=>{u&&u()},children:r.jsx(i.xv,{...l.p.body3,style:{color:a.K.blue[12]},children:"مدیریت تبلیغات"})})]})]})},71941:(e,s,t)=>{"use strict";t.d(s,{L:()=>i});var r=t(17577);function i(e,s){return(0,r.useMemo)(()=>{if(!e||!s?.length)return"";let t=s.find(s=>s.id===e);return t?t.name:""},[e,s])}},85366:(e,s,t)=>{"use strict";t.d(s,{l:()=>n});var r=t(4465),i=t.n(r);function n(e){return i()(e).locale("fa").format("jYYYY/jMM/jDD")}},5747:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>a,__esModule:()=>n,default:()=>l});var r=t(68570);let i=(0,r.createProxy)(String.raw`/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/advertizement/trip/[...slug]/page.tsx`),{__esModule:n,$$typeof:a}=i;i.default;let l=(0,r.createProxy)(String.raw`/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/advertizement/trip/[...slug]/page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[571,315,434,667,226,60,886,14,18,33,0],()=>t(91627));module.exports=r})();