(()=>{var e={};e.id=960,e.ids=[960],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},83611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>h,tree:()=>u}),r(41528),r(13586),r(35866),r(87799);var s=r(23191),n=r(88716),a=r(37922),i=r.n(a),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let u=["",{children:["(root)",{children:["user",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,41528)),"/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/user/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13586)),"/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,87799)),"/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/user/page.tsx"],c="/(root)/user/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(root)/user/page",pathname:"/user",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},81604:(e,t,r)=>{Promise.resolve().then(r.bind(r,68034))},68034:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var s=r(10326),n=r(17577),a=r(74723),i=r(35047),o=r(39454),l=r(10119),u=r(51075),d=r(78933),c=r(73037),p=r(42925);let h=e=>{let{control:t}=(0,a.Gc)(),r=(0,i.useSearchParams)(),n=e=>r.get(e)||"";return(0,s.jsxs)(c.rj,{width:"100%",columns:"3",gapX:"4",style:{gridTemplateColumns:"3fr 1fr"},children:[s.jsx(a.Qr,{name:"searchQuery",control:t,render:({field:e})=>s.jsx(p.Z,{...e,placeholder:"جستجو نام کاربر یا شماره تماس",defaultValue:n("searchQuery")?n("searchQuery"):""})}),s.jsx(a.Qr,{name:"status",control:t,render:({field:t})=>s.jsx(c.fp,{...t,placeholder:"وضعیت کاربر",value:String(t.value),onValueChange:r=>{t.onChange(r),e.onSubmit()},size:"3",children:d.C0.map(e=>s.jsx(c.Ql,{value:String(e.value),children:e.key},e.id))})})]})};var m=r(33265),x=r(58072),g=r(91629);let f=(0,m.default)(async()=>{},{loadableGenerated:{modules:["src/components/user/list/UserList.tsx -> @/libs/shared/Table"]},ssr:!1}),b=({data:e})=>{let t=(0,i.useRouter)();return s.jsx(c.xu,{width:"100%",style:{overflow:"scroll"},children:s.jsx(f,{columns:[{accessorKey:"index",header:"ردیف",cell:e=>s.jsx(c.xv,{...g.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:x.K.gray[11]},children:e.row.index+1})},{accessorKey:"fullName",header:"نام و نام خانوادگی",cell:e=>{let t=e.getValue();return s.jsx(c.xv,{...g.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:x.K.gray[11]},children:t&&""!==t.trim()?t:"-"})}},{accessorKey:"mobileNumber",header:"شماره تماس",cell:e=>{let t=e.getValue();return s.jsx(c.xv,{...g.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:x.K.gray[11]},children:t||"-"})}},{accessorKey:"email",header:"ایمیل",cell:e=>{let t=e.getValue();return s.jsx(c.xv,{...g.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:x.K.gray[11]},children:t||"-"})}},{accessorKey:"status",header:"نوع کاربر",cell:e=>{let t=e.getValue();return s.jsx(c.xv,{...g.p.body2,style:{display:"flex",width:"fit-content",alignItems:"center",padding:"4px 8px",backgroundColor:!1===t?x.K.pink[3]:x.K.blue[3],color:!1===t?x.K.pink[11]:x.K.blue[11],borderRadius:4},children:!0===t?"فعال":"غیر فعال"})}},{id:"details",cell:({row:e})=>{let r=e.original;return s.jsx(c.kC,{width:"100%",height:"100%",align:"center",justify:"center",children:s.jsx(c.zx,{variant:"surface",onClick:e=>{console.log("item",r),e.preventDefault(),t.push(`/user/${r.id}`)},children:"..."})})}}],data:e})})};var y=r(42500),v=r(14260),j=r(66736),w=r(17187),P=r(42306);function C({searchParams:e}){let{replace:t}=(0,i.useRouter)(),[r,d]=(0,n.useState)(e.page?Number(e.page):1),p=(0,a.cI)({defaultValues:{searchQuery:e.searchQuery||"",status:e.status?e.status:"",limit:10,page:r}}),{watch:m,handleSubmit:x,setValue:g}=p,{data:f,mutate:C,isError:k,isPending:M}=(0,l.useMutation)({mutationFn:async e=>(0,u.qD)(e),onSuccess:async e=>{let r=Object.fromEntries(Object.entries(m()).filter(([e,t])=>void 0!==t&&""!==t&&"none"!==t&&null!==t&&!(Array.isArray(t)&&0===t.length)&&!(Array.isArray(t)&&t.every(e=>""===e))&&!(Array.isArray(t)&&t.every(e=>"none"===e))&&!("object"==typeof t&&null!==t&&0===Object.keys(t).length))),s=(0,P.X)(r);t(`/user?${s}`),console.log("data",e)},onError:async e=>{console.log("DATA Error",e)}}),O=()=>{C(m())};return(0,s.jsxs)(c.kC,{direction:"column",children:[s.jsx(y.default,{title:"لیست کاربران",isNavigation:!0}),s.jsx(c.xu,{pr:"90px",children:s.jsx(c.rj,{width:"100%",maxWidth:"1920px",mx:"auto",children:s.jsx(a.RV,{...p,children:s.jsx("form",{onSubmit:x(O),children:(0,s.jsxs)(c.kC,{width:"100%",direction:"column",gap:"5",p:"5",children:[s.jsx(h,{onSubmit:()=>O()}),k?s.jsx(c.xv,{children:"مشکلی پیش آمده لطفا مجدد تلاش نمایید"}):M?s.jsx(o.$j,{style:{marginInline:"auto",scale:3,marginBlock:"20px"}}):s.jsx(b,{data:f?.latestUsers}),f?.latestUsers&&(0,s.jsxs)(c.kC,{width:"100%",align:"center",justify:"between",children:[s.jsx(v.Z,{current:r,total:f?.totalPages,onPageChange:e=>{d(e),g("page",e),(0,w.Z)(e),O()}}),s.jsx(j.Z,{data:f?.latestUsers,currentPage:f?.currentPage,totalCount:f?.totalCount})]})]})})})})})]})}},33265:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var s=r(43353),n=r.n(s)},43353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let s=r(91174);r(10326),r(17577);let n=s._(r(77028));function a(e,t){var r;let s={loading:e=>{let{error:t,isLoading:r,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let a={...s,...t};return(0,n.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=r(94129);function n(e){let{reason:t,children:r}=e;throw new s.BailoutToCSRError(t)}},77028:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let s=r(10326),n=r(17577),a=r(933),i=r(46618);function o(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},u=function(e){let t={...l,...e},r=(0,n.lazy)(()=>t.loader().then(o)),u=t.loading;function d(e){let o=u?(0,s.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.PreloadCss,{moduleIds:t.modules}),(0,s.jsx)(r,{...e})]}):(0,s.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(n.Suspense,{fallback:o,children:l})}return d.displayName="LoadableComponent",d}},46618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let s=r(10326),n=r(55403);function a(e){let{moduleIds:t}=e,r=(0,n.getExpectedRequestStore)("next/dynamic css"),a=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,s.jsx)(s.Fragment,{children:a.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},51075:(e,t,r)=>{"use strict";r.d(t,{bG:()=>l,gG:()=>i,qD:()=>a,uz:()=>o,v7:()=>n});var s=r(80635);let n=e=>{let t={};return Object.keys(e).forEach(r=>{let s=e[r];null===s||""===s||Array.isArray(s)&&0===s.length||0===s||"null"===s||(t[r]=s)}),t},a=async e=>{let t=n({...e});return(await s.x.post("user",t)).data.data},i=async e=>{let t=n({...e,originCityId:Number(e.originCityId),originProvinceId:Number([e.originProvinceId]),destinationCityId:Number(e.destinationCityId),destinationProvinceId:Number(e.destinationProvinceId),departureDateStart:new Date(e.departureDateStart).getTime()?new Date(e.departureDateStart).getTime():null,departureDateEnd:new Date(e.departureDateEnd).getTime()?new Date(e.departureDateEnd).getTime():null,returnDateStart:new Date(e.returnDateStart).getTime()?new Date(e.returnDateStart).getTime():null,returnDateEnd:new Date(e.returnDateEnd).getTime()?new Date(e.returnDateEnd).getTime():null,createdAt:new Date(e.createdAt).getTime()?new Date(e.returnDateEnd).getTime():null,sort:null,userId:null});return(await s.x.post("trips/recentTrips",t,{headers:{userId:e.userId}})).data.data},o=async(e,t)=>{let r=n({...t,mobile:null,pic:null});return(await s.x.patch(`user/profile/partiallyEditUser/${e}`,r)).data},l=async e=>(await s.x.get(`user/userInfoForUserTrips/${e}`)).data.data},78933:(e,t,r)=>{"use strict";r.d(t,{C0:()=>s,Qd:()=>a,gy:()=>n});let s=[{id:1,key:"فعال",value:"true",disable:!1},{id:2,key:"غیر فعال",value:"false",disable:!1},{id:3,key:"هیچکدام",value:"all",disable:!1}],n=[{id:1,name:"تاریخ رفت - جدیدترین "},{id:2,name:"تاریخ رفت - قدیمی ترین"},{id:3,name:"تاریخ بازگشت - جدیدترین"},{id:4,name:"تاریخ بازگشت - قدیمی ترین"}],a=[{id:1,name:"مرد",value:"MALE"},{id:2,name:"زن",value:"FEMALE"}]},66736:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(10326);r(17577);var n=r(58072),a=r(91629),i=r(73037);let o=e=>{let{data:t,currentPage:r,totalCount:o,keyText:l="برنامه"}=e,u=t?.length,d=(r-1)*u+1;return s.jsx(i.xv,{...a.p.body2,style:{color:n.K.gray[11]},children:`${d}-${Math.min(d+u-1,o)} از ${o} ${l}`})}},14260:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(10326);r(17577),r(71222);var n=r(33265),a=r(73037),i=r(70391);r(21111);let o=(0,n.default)(async()=>{},{loadableGenerated:{modules:["src/libs/shared/custom-pagination/CustomPagination.tsx -> react-responsive-pagination"]},ssr:!1}),l=({current:e,total:t,onPageChange:r,...n})=>s.jsx(a.kC,{align:"center",maxWidth:"348px",children:s.jsx(o,{current:e,total:t,onPageChange:r,...n,className:"pagination",previousLabel:s.jsx(i.jR,{}),nextLabel:s.jsx(i.EB,{})})})},42925:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var s=r(10326),n=r(17577),a=r(74723),i=r(57457),o=r(73037),l=r(70391),u=r(58072),d=r(44976);let c=(0,n.forwardRef)(({placeholder:e,defaultValue:t,...r},n)=>{let i=(0,d.useQueryClient)(),{setValue:u}=(0,a.Gc)();return(0,s.jsxs)(h,{...r,ref:n,height:"fit-content",children:[s.jsx(m,{...r,ref:n,placeholder:e,variant:"surface",defaultValue:t,onChange:()=>{u("page",1)}}),s.jsx(o.hU,{size:"4",variant:"soft",onClick:()=>{i.invalidateQueries({queryKey:["article-list"]})},children:s.jsx(l.HN,{})})]})});c.displayName="CustomSearch";let p=c,h=(0,i.ZP)(o.kC).withConfig({componentId:"sc-f22ede8b-0"})(["max-height:48px;align-items:center;border:1px solid ",";border-radius:12px;padding-inline-start:1rem;&:focus-within{background-color:",";box-shadow:",";border:1px solid ",";}"],u.K.gray[7],u.K.blue[2],u.i.shadow1,u.K.gray[3]),m=(0,i.ZP)(o.nv).withConfig({componentId:"sc-f22ede8b-1"})(["&.rt-TextFieldRoot:where(.rt-variant-surface){border:none;outline:none;box-shadow:none;margin-block-end:-10px;}&:focus-within{outline:none !important;border:none !important;background-color:transparent !important;box-shadow:none !important;}@media (hover:hover){background-color:transparent !important;}"])},42306:(e,t,r)=>{"use strict";function s(e){let t=new URLSearchParams;return Object.entries(e).forEach(([e,r])=>{t.append(e,String(r))}),t.toString()}r.d(t,{X:()=>s})},17187:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=e=>{}},41528:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});var s=r(68570);let n=(0,s.createProxy)(String.raw`/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/user/page.tsx`),{__esModule:a,$$typeof:i}=n;n.default;let o=(0,s.createProxy)(String.raw`/Users/alihasani/Workspace/mansoor/bznbrbAdminNew/app/(root)/user/page.tsx#default`)},71222:()=>{},21111:()=>{},10119:(e,t,r)=>{"use strict";r.d(t,{useMutation:()=>c});var s=r(17577),n=r(71180),a=r(12113),i=r(64351),o=r(3341),l=class extends i.l{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#a()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#n(){let e=this.#r?.state??(0,n.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.V.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},u=r(44976),d=r(78613);function c(e,t){let r=(0,u.useQueryClient)(t),[n]=s.useState(()=>new l(r,e));s.useEffect(()=>{n.setOptions(e)},[n,e]);let i=s.useSyncExternalStore(s.useCallback(e=>n.subscribe(a.V.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=s.useCallback((e,t)=>{n.mutate(e,t).catch(d.Z)},[n]);if(i.error&&(0,d.L)(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}},78613:(e,t,r)=>{"use strict";function s(e,t){return"function"==typeof e?e(...t):!!e}function n(){}r.d(t,{L:()=>s,Z:()=>n})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[242,315,434,598,280],()=>r(83611));module.exports=s})();