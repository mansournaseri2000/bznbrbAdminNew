"use strict";exports.id=0,exports.ids=[0],exports.modules={37419:(e,t,r)=>{r.d(t,{Di:()=>d,LP:()=>c,Vl:()=>a,_5:()=>n,mV:()=>p,nj:()=>s,qo:()=>l});var i=r(12099),o=r(80635);let s=async()=>(await o.x.get("/ads/page")).data.data,n=async(e,t,r)=>(await o.x.get(`/ads/holder?holder=${e}&id=${t}&type=${r}`)).data.data,a=async e=>{let t=new FormData;return Object.entries({type:e.type,description:e.description,page:e.page,holder:e.holder,alt:e.alt,summery:e.summery,website:e.website,socialMedia:e.socialMedia,sponsor:e.sponsor}).forEach(([e,r])=>{r&&t.append(e,r.toString())}),t.append("file",e.file),Object.entries({provinceId:e.provinceId,cityId:e.cityId,townId:e.townId,categoryId:e.categoryId}).forEach(([e,r])=>{null!=r&&t.append(e,r.toString())}),(await i.pN.post("admin/uploads/image",t,{headers:{"Content-Type":"multipart/form-data"}})).data},l=async e=>(await o.x.patch("/upload/edit",e)).data,d=async e=>(await o.x.delete("/upload/",{data:e})).data,c=async e=>(await o.x.get(`/ads/page?pageKey=${e}`)).data.data,p=async e=>(await o.x.get(`/ads/page?pageKey=province&id=${e}`)).data.data},26566:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(10326),o=r(46226),s=r(76812),n=r(95441),a=r(65619),l=r(58072),d=r(91629);let c=({data:e,onCreateOrEdit:t,onDelete:r,onClick:c})=>(0,i.jsxs)(i.Fragment,{children:[!e?.path&&(0,i.jsxs)(n.kC,{align:"center",position:"relative",minHeight:"200px",p:"16px",justify:"center",style:{borderRadius:"8px",border:`1px dashed ${l.K.blue[9]}`},children:[i.jsx(n.xv,{style:{position:"absolute",color:l.K.gray[8],right:"20px",fontSize:"90px"},children:e?.position}),(0,i.jsxs)(n.kC,{gap:"4px",align:"center",onClick:()=>{t("create"),c()},style:{cursor:"pointer"},children:[i.jsx(s.pOD,{stroke:l.K.blue[7]}),i.jsx(n.xv,{...d.p.body1,style:{color:l.K.blue[11]},children:"افزودن آگهی"})]})]}),!!e?.path&&(0,i.jsxs)(n.rj,{onClick:c,p:"16px",style:{borderRadius:"8px",border:`1px solid ${l.K.gray[6]}`},children:[(0,i.jsxs)(n.kC,{width:"100%",align:"center",justify:"between",children:[i.jsx(n.X6,{style:{color:l.K.gray[11],fontSize:"32px",fontWeight:500,lineHeight:"37.5px"},children:e.position}),(0,i.jsxs)(n.kC,{align:"center",gap:"4",children:[i.jsx(n.hU,{size:"3",onClick:()=>{t("edit")},children:i.jsx(a.z,{})}),i.jsx(n.hU,{size:"3",variant:"surface",onClick:r,children:i.jsx(a.rF,{})})]})]}),(0,i.jsxs)(n.kC,{width:"100%",gap:"10px",children:[i.jsx(n.xu,{width:"400px",height:"200px",position:"relative",children:i.jsx(o.default,{src:`https://uploader.bezanimbiroon.ir/${e.path}`,alt:String(e?.alt),fill:!0,style:{borderRadius:8,objectFit:"cover",objectPosition:"center"}})}),(0,i.jsxs)(n.kC,{width:"77.5%",direction:"column",mt:"2",style:{justifyContent:"space-between"},children:[(0,i.jsxs)(n.kC,{direction:"column",gap:"3",children:[i.jsx(n.nv,{placeholder:"متن چایگزین",readOnly:!0,value:e.alt??"",style:{borderRadius:12}}),i.jsx(n.Kx,{placeholder:"توضیحات تصویر",readOnly:!0,value:e.description??"",style:{borderRadius:12}})]}),e.path&&(0,i.jsxs)(n.kC,{p:"12px 16px",gap:"2",align:"center",children:[i.jsx(n.hU,{variant:"surface",size:"1",children:i.jsx(s.TIy,{style:{color:l.K.blue[10]}})}),i.jsx(n.xv,{...d.p.body3,style:{color:l.K.blue[11]},children:e.path})]})]})]})]})]})},26967:(e,t,r)=>{r.d(t,{Z:()=>u});var i=r(10326),o=r(17577),s=r(23920),n=r(74723),a=r(46226),l=r(8806),d=r(95441),c=r(71284),p=r(65619),x=r(58072),h=r(91629);let u=({type:e,data:t,onClose:r,onSubmit:u,isLoading:g})=>{let{setValue:j,watch:m,control:y}=(0,n.cI)({defaultValues:{alt:"edit"===e?t.alt:"",description:"edit"===e?t.description:"",imageFile:"edit"===e?t.path:null,isReset:!0,localPic:"",summery:"edit"===e?t.summery:"",website:"edit"===e?t.website:"",socialMedia:"edit"===e?t.socialMedia:"",sponsor:"edit"===e?t.sponsor:"",page:t.page,holder:t.position,townId:t.townId,provinceId:t.provincesId,cityId:t.cityId,categoryId:t.categoryId}});(0,o.useEffect)(()=>{j("imageFile","edit"===e?t.path:null),j("description","edit"===e?t.description:""),j("alt","edit"===e?t.alt:""),j("summery","edit"===e?t.summery:""),j("website","edit"===e?t.website:""),j("socialMedia","edit"===e?t.socialMedia:""),j("sponsor","edit"===e?t.sponsor:""),j("isReset",!0)},[e]);let b=async e=>{if("image/svg+xml"===e.type)return e;try{return await (0,l.Z)(e,{maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0})}catch(t){return console.error("Image compression error:",t),e}},v=async(e,t)=>{if(e&&e[0]){let r=e[0],i=await b(r);t(URL.createObjectURL(i)),j("localPic",URL.createObjectURL(i)),j("isReset",!1),j("imageFile",i)}};return(0,i.jsxs)(i.Fragment,{children:[i.jsx(d.rj,{minHeight:"286px",p:"4",gapY:"5",children:!1==!!t?.path&&!1==!!m("localPic")?i.jsx(n.Qr,{name:"imageFile",control:y,render:({field:e})=>i.jsx(d.kC,{width:"max-content",position:"relative",direction:"column",children:i.jsx(s.ZP,{onDrop:t=>{v(t,e.onChange)},accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/svg+xml":[".svg"]},children:({getRootProps:e,getInputProps:t})=>(0,i.jsxs)("div",{...e(),children:[i.jsx("input",{type:"file",...t()}),i.jsx(d.kC,{gap:"2",justify:"center",direction:"column",align:"center",children:i.jsx(d.zx,{size:"3",type:"button",style:{width:"fit-content"},children:(0,i.jsxs)(d.kC,{align:"center",gap:"2",children:[i.jsx(p.V1,{}),i.jsx(d.xv,{...h.p.body1,children:"ارسال تصویر"})]})})})]})})})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.xu,{width:"538px",height:"350px",position:"relative",style:{borderRadius:8,border:`1px solid ${x.K.gray[3]}`},children:["create"===e&&i.jsx(d.kC,{width:"30px",height:"30px",justify:"center",align:"center",style:{cursor:"pointer",position:"absolute",backgroundColor:x.K.gray[3],borderRadius:"4px",border:`1px solid ${x.K.pink[9]}`,zIndex:"10"},left:"0",top:"0",children:i.jsx(n.Qr,{name:"localPic",control:y,render:({field:e})=>i.jsx(d.kC,{width:"max-content",position:"relative",direction:"column",children:i.jsx(s.ZP,{onDrop:t=>{v(t,e.onChange)},accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/svg+xml":[".svg"]},children:({getRootProps:e,getInputProps:t})=>(0,i.jsxs)("div",{...e(),children:[i.jsx("input",{type:"file",...t()}),i.jsx(d.kC,{gap:"2",justify:"center",direction:"column",align:"center",children:i.jsx(p.rF,{})})]})})})})}),i.jsx(a.default,{src:m("isReset")?`https://uploader.bezanimbiroon.ir/${t?.path}`:m("localPic"),alt:"ugliglhglk",fill:!0,style:{borderRadius:8,objectFit:"fill"}})]}),(0,i.jsxs)(d.rj,{width:"100%",gap:"5",columns:"3",children:[i.jsx(n.Qr,{name:"sponsor",control:y,render:({field:e})=>i.jsx(d.nv,{...e,label:"نام اسپانسر",placeholder:"نام اسپانسر",selectedValue:!!e.value,value:e.value??""})}),i.jsx(n.Qr,{name:"website",control:y,render:({field:e})=>i.jsx(d.nv,{...e,label:"سایت",placeholder:"سایت",selectedValue:!!e.value,value:e.value??""})}),i.jsx(n.Qr,{name:"socialMedia",control:y,render:({field:e})=>i.jsx(d.nv,{...e,label:"شبکه اجتماعی",placeholder:"شبکه اجتماعی",selectedValue:!!e.value,value:e.value??""})})]}),i.jsx(n.Qr,{name:"alt",control:y,render:({field:e})=>i.jsx(d.nv,{...e,label:"متن جایگزین",placeholder:"متن جایگزین",selectedValue:!!e.value,value:e.value??""})}),i.jsx(n.Qr,{name:"description",control:y,render:({field:e})=>i.jsx(d.Kx,{...e,label:"توضیحات تصویر",placeholder:"توضیحات تصویر",selectedValue:!!e.value,rows:6,value:e.value??""})}),i.jsx(n.Qr,{name:"summery",control:y,render:({field:e})=>i.jsx(d.Kx,{...e,label:"شرح مختصر",placeholder:"شزح مختصر",selectedValue:!!e.value,rows:6,value:e.value??""})})]})}),i.jsx(c.Z,{submitButtonText:"ثبت و ارسال",closeButtonText:"لفو و بازگشت",isDisableSubmitBtn:!1,isSubmit:!1,onSubmit:()=>{u(m())},onCloseButton:r,isLoading:g})]})}},48780:(e,t,r)=>{r.d(t,{Z:()=>w});var i=r(10326),o=r(17577),s=r(41678);r(10219);var n=r(98266),a=r(57457),l=r(95441),d=r(65619),c=r(58072);let p={desktop:"1280px"};var x=r(91629),h=r(90434),u=r(35047),g=r(38887),j=r(61505),m=r(76826);let y=({isMobile:e})=>{let{dispatch:t}=(0,j.a)(),r=(0,u.useSelectedLayoutSegment)();return(0,i.jsxs)(b,{mx:"auto",height:"100%",children:[i.jsx(l.rj,{width:"100%",children:(0,i.jsxs)(l.kC,{height:"100%",direction:"column",p:"4",gap:"4",children:[i.jsx(h.default,{href:"",children:i.jsx(v,{style:{margin:"auto"},children:i.jsx(d.wD,{width:"113px",height:"32px",cursor:"pointer"})})}),g.v.map((t,o)=>i.jsx(m.Z,{...t,activeSegment:r,isMobile:e},o))]})}),i.jsx(l.rj,{width:"fit-content",children:i.jsx(l.kC,{height:"fit-content",gap:"2",p:"4",children:(0,i.jsxs)(l.kC,{px:"4",gap:"2",align:"center",onClick:()=>{t({type:"LOGOUT"})},style:{cursor:"pointer"},children:[i.jsx(d.n$,{width:"16px",height:"16px"}),i.jsx(v,{children:i.jsx(l.xv,{...x.p.body3,style:{color:c.K.pink[11]},children:"خروج از حساب کاربری"})})]})})})]})},b=(0,a.ZP)(l.rj).withConfig({componentId:"sc-759d589f-0"})(["overflow-x:hidden;overflow-y:auto;white-space:nowrap;align-content:space-between;scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}"]),v=a.ZP.div.withConfig({componentId:"sc-759d589f-1"})(["overflow:hidden;display:flex;flex-direction:column;"]),w=e=>{let{title:t,isNavigation:r}=e,s=(0,n.tv)(),[a,p]=(0,o.useState)(!1),h=()=>{p(e=>!e)};return(0,i.jsxs)(i.Fragment,{children:[i.jsx(f,{children:(0,i.jsxs)(k,{children:[(0,i.jsxs)(l.kC,{align:"center",gap:"16px",children:[i.jsx(C,{variant:"surface",onClick:h,children:i.jsx(d.Oq,{})}),i.jsx(l.xv,{...x.p.title1,style:{color:c.K.gray[11]},children:t})]}),r&&i.jsx(l.hU,{size:"3",variant:"surface",onClick:()=>s.back(),children:i.jsx(d.jb,{color:"#373737"})})]})}),i.jsx(I,{open:a,onClose:h,direction:"right",children:i.jsx(y,{isMobile:!0})})]})},f=a.ZP.header.withConfig({componentId:"sc-63cd502e-0"})(["padding:14.5px 24px;position:sticky;left:0;right:0;top:0;border-bottom:1px solid ",";background-color:",";box-shadow:",";z-index:10;@media (min-width:","){padding:14.5px 100px 14.5px 24px;}"],c.K.gray[6],c.K.gray[1],c.i.shadow1,p.desktop),k=(0,a.ZP)(l.kC).withConfig({componentId:"sc-63cd502e-1"})(["max-width:1920px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;"]),C=(0,a.ZP)(l.hU).withConfig({componentId:"sc-63cd502e-2"})(["display:flex;@media (min-width:","){display:none;}"],p.desktop),I=(0,a.ZP)(s.Z).withConfig({componentId:"sc-63cd502e-3"})(["width:max-content !important;border-bottom-left-radius:8px !important;border-top-left-radius:8px !important;"])},71284:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(10326);r(17577);var o=r(39454),s=r(58072),n=r(91629),a=r(95441);let l=({isSubmit:e=!0,closeButtonText:t,submitButtonText:r,isLoading:l,onCloseButton:d,onSubmit:c,isDisableSubmitBtn:p=!1,disabled:x=!1})=>i.jsx(a.kC,{height:"max-content",gap:"16px",left:"0",p:"16px",right:"0",style:{backgroundColor:s.K.gray[2],marginBlockStart:"auto",borderTop:`1px solid ${s.K.gray[3]}`,boxShadow:s.i.shadow1,borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px"},position:"sticky",bottom:"0px",children:(0,i.jsxs)(a.rj,{gap:"16px",columns:"2",children:[i.jsx(a.zx,{disabled:p||x,onClick:c,type:e?"submit":"button",variant:"soft",size:"3",style:{width:"fit-content",padding:"9.5px 38px"},children:l?i.jsx(o.$j,{}):i.jsx(a.xv,{...n.p.body1,children:r})}),i.jsx(a.zx,{type:"button",colorVariant:"PINK",size:"3",onClick:d,style:{width:"fit-content",padding:"9.5px 38px"},children:i.jsx(a.xv,{...n.p.body1,children:t})})]})})},45313:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(10326);r(17577);var o=r(57457),s=r(65619),n=r(58072),a=r(91629),l=r(95441);let d=({handleClose:e,title:t})=>(0,i.jsxs)(c,{position:"sticky",top:"0",p:"8px 16px",justify:"between",style:{backgroundColor:n.K.blue[10],zIndex:"100"},align:"center",children:[i.jsx(l.xv,{...a.p.title2,style:{color:n.K.gray[1],fontWeight:700},children:t}),i.jsx(l.hU,{type:"button",onClick:e,variant:"soft",size:"2",style:{backgroundColor:n.K.blue[9],borderRadius:"12px"},children:i.jsx(s.x8,{})})]}),c=(0,o.zo)(l.kC).withConfig({componentId:"sc-38bd6e22-0"})(["border-top-right-radius:8px;border-top-left-radius:8px;"])},80635:(e,t,r)=>{r.d(t,{x:()=>a,z:()=>l});var i=r(35047),o=r(44099),s=r(46611);let n=Buffer.from("bznpanelapi:VX+kPbS#@sdD5$").toString("base64"),a=o.Z.create({baseURL:"https://api-admin-dev.darkube.app/v1/",headers:{"up-auth":`Basic ${n}`}}),l=o.Z.create({baseURL:"https://uploader.bezanimbiroon.ir",headers:{"Content-Type":"application/json","up-auth":`Basic ${n}`}});l.interceptors.request.use(e=>{let t=new s.Z().get("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),a.interceptors.request.use(e=>{let t=new s.Z().get("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{if(e.response){let t=e.response.status;401===t?console.error("Unauthorized access - perhaps the token has expired"):403===t?console.error("Forbidden - You do not have permission to access this resource."):t>=500?(console.error("Server error - Please try again later."),(0,i.redirect)("/error")):console.error(`Error: ${e.response.statusText}`)}else e.request?(console.error("Network error - the request was made but no response was received"),(0,i.redirect)("/error")):((0,i.redirect)("/error"),console.error("Error:",e.message));return Promise.reject(e)})}};