(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8332],{39392:function(e,t,i){Promise.resolve().then(i.bind(i,45637))},60291:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=i(99920)._(i(2265)).default.createContext(null)},33913:function(e,t,i){"use strict";i.d(t,{zv:function(){return d},u1:function(){return h},Nc:function(){return p},x1:function(){return u},iV:function(){return s},_7:function(){return c},CM:function(){return l}}),i(16463),i(31072);let n=e=>e.map(e=>({tripTypeId:e.id,score:e.score}));var r=i(10008);let a=i(38472).Z.create({baseURL:"https://api-client.darkube.app/v1/",headers:{"Content-Type":"application/json"}});var o=i(75312);let s=async()=>(await r.S.get("places/create-data")).data.data,d=async e=>{let t=new FormData;return t.append("type",e.type),t.append("placeId",e.placeId.toString()),t.append("files",e.files),(await r.S.post("upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data},c=async e=>(await r.S.get("places/id/".concat(e))).data.data,p=async e=>{let{name:t,basicInfoDescription:i,sub_category_id:a,cityID:s,lat:d,airplane:c,car:p,bus:l,subway:u,ship:h,taxi:m,train:x,pictures:f,lng:y,address:g,tell:v,website:w,email:b,basicInfosummary:T,meta_description:j,meta_title:k,metakeywords:_,keywords:C,features:P,hike:O,PlaceDetails:I,TripTypes:S,PlaceTripSeasons:W,PlaceCategories:E,tripLimitations:N,category_id:z,cost:R,renown:K,PlaceWorkTimes:L,area:Z,trip_value:A,rating:U,suggested_time:D}=e;return(await r.S.post("places/create",{name:t,city_id:0==s?void 0:Number(s),description:i,category_id:0==a?void 0:Number(a),parentCategory_id:0==z?void 0:Number(z),lat:d,lng:y,address:g,tell:v,website:w,email:b,summary:T,tags:_,keywords:C,meta_description:j,meta_title:k,airplane:c,bus:l,car:p,hike:O,ship:h,subway:u,taxi:m,train:x,PlaceFeatures:P,PlaceDetails:I,TripTypes:n(S),PlaceWorkTimes:(0,o.b4)(L),PlaceCategories:E,PlaceTripLimitations:N,PlaceTripSeasons:W,pictures:f,cost:R,renown:K,area:Z,rating:Number(U),trip_value:Number(A),suggested_time:String(D)})).data},l=async e=>(await r.S.delete("upload/".concat(e))).data,u=async(e,t)=>{let{name:i,basicInfoDescription:n,sub_category_id:a,cityID:s,lat:d,airplane:c,car:p,bus:l,subway:u,ship:h,taxi:m,train:x,pictures:f,lng:y,address:g,tell:v,website:w,email:b,basicInfosummary:T,meta_description:j,meta_title:k,metakeywords:_,keywords:C,features:P,hike:O,PlaceDetails:I,PlaceTripSeasons:S,PlaceCategories:W,category_id:E,TripTypes:N,PlaceWorkTimes:z,tripLimitations:R,renown:K,cost:L,area:Z,rating:A,trip_value:U,suggested_time:D}=e;return(await r.S.put("places/update/".concat(t),{name:i,description:n,category_id:0!==String(a).length?Number(a):void 0,city_id:0!==String(s).length?Number(s):void 0,parentCategory_id:0!==String(E).length?Number(E):void 0,lat:d,lng:y,address:g,tell:v,website:w,email:b,summary:T,tags:_,keywords:C,meta_description:j,meta_title:k,airplane:c,bus:l,car:p,hike:O,ship:h,subway:u,taxi:m,train:x,PlaceFeatures:P,PlaceDetails:(0,o.QB)(I),TripTypes:N,PlaceWorkTimes:(0,o.b4)(z),PlaceCategories:W,PlaceTripLimitations:R,PlaceTripSeasons:S,pictures:f,cost:L,renown:K,area:Z,rating:Number(A),trip_value:Number(U),suggested_time:D})).data},h=async e=>(await a.post("places/user-edit",e)).data},45637:function(e,t,i){"use strict";i.d(t,{default:function(){return w}});var n=i(57437),r=i(89183),a=i(2265),o=i(87138),s=i(58606),d=i(40722);let c=[{text:"مدیریت برنامه ها",Icon:d.Rw,path:"/plans",type:"collapse"},{text:"کاربران",Icon:d.Fc,path:"/user",type:"collapse"},{text:"مدیریت اطلاعات",Icon:d.Xy,type:"expand",items:[{text:"مدیریت نقاط",path:"/data-management/point-management"},{text:"مدیریت مقالات",path:"/data-management/article-management"}]},{text:"مدیریت اطلاعات تکمیلی",Icon:d.S9,type:"expand",items:[{text:"مدیریت دسته بندی ها ",path:"/additional-detail/categories"},{text:"مدیریت ویژگی ها",path:"/additional-detail/features"},{text:"مدیریت استان ها",path:"/additional-detail/province"}]},{text:"تاییدیه ها",Icon:d.VJ,type:"expand",items:[{text:"مدیریت نظرات",path:"/confirmations/comment"},{text:"مدیریت نظرات برتر",path:"/confirmations/top-comments"},{text:"مدیریت اصلاح اطلاعات ",path:"/confirmations/improve-data"},{text:"مدیریت راهنماهای مسیر",path:"/confirmations/path-guid"},{text:"مدیریت تصاویر ارسالی",path:"/confirmations/image-sent"}]},{text:"آگهی ها",Icon:d.fi,type:"collapse",path:"/ads"},{text:"پشتیبانی",Icon:d.Bt,type:"collapse",path:"/support"}];var p=i(96396),l=i(30075),u=i(1845),h=i(21949),m=i(4867);let x={open:{opacity:1,height:"auto"},closed:{opacity:0,height:0}};var f=e=>{let{isExpanded:t,text:i,Icon:r,type:d,items:c,path:l}=e,[f,g]=(0,a.useState)(!1),v=()=>{g(!f)};return(0,n.jsxs)(p.W2,{children:[(0,n.jsx)(o.default,{href:l&&"collapse"===d?l:"",children:(0,n.jsxs)(p.kC,{width:"100%",gap:"2",px:"4",py:"11px",align:"center",children:[(0,n.jsx)(p.xu,{width:"16px",height:"16px",children:(0,n.jsx)(r,{})}),(0,n.jsx)(y,{animate:{maxWidth:t?"100%":"1px",opacity:t?1:0},initial:{maxWidth:"0px",opacity:0},transition:{maxWidth:{duration:.4,ease:[.16,1,.3,1]},opacity:{duration:.2,ease:"easeInOut"}},style:{width:t?"100%":"auto"},children:(0,n.jsxs)(p.kC,{width:"100%",align:"center",justify:"between",children:[(0,n.jsx)(p.xv,{...h.p.body3,style:{color:u.K.gray[11]},children:i}),"expand"===d&&(0,n.jsx)(p.hU,{variant:"surface",size:"1",type:"button",onClick:()=>v(),children:f?(0,n.jsx)(m.V_R,{style:{color:u.K.gray[11]}}):(0,n.jsx)(m.pOD,{style:{color:u.K.gray[11]}})})]})})]})}),"expand"===d&&(0,n.jsx)(s.E.div,{variants:x,initial:"closed",animate:f?"open":"closed",transition:{duration:.3},style:{overflow:"hidden",paddingRight:24},layout:!0,children:null==c?void 0:c.map((e,t)=>(0,n.jsx)(o.default,{href:e.path,style:{padding:"12px 24px 12px 16px",borderRight:"1px solid ".concat(u.K.gray[6])},children:(0,n.jsx)(p.xv,{...h.p.body3,style:{color:u.K.gray[11]},children:e.text})},t))})]})};let y=(0,r.ZP)(s.E.div).withConfig({componentId:"sc-d5b387a8-0"})(["overflow:hidden;display:flex;flex-direction:column;"]);var g=()=>{let[e,t]=(0,a.useState)(!1),{dispatch:i}=(0,l.a)();return(0,n.jsx)(s.E.div,{onHoverStart:()=>t(!0),onHoverEnd:()=>t(!1),initial:{width:"80px"},animate:{width:e?"260px":"80px"},transition:{duration:.3},style:{position:"fixed",right:"0",top:"0",bottom:"0",backgroundColor:u.K.gray[2],border:"1px solid ".concat(u.K.gray[6]),overflowY:"auto",borderRadius:"16px 0px 0px 16px",zIndex:100},children:(0,n.jsxs)(p.rj,{mx:"auto",height:"100%",style:{overflowX:"hidden",whiteSpace:"nowrap",alignContent:"space-between",overflowY:"auto"},children:[(0,n.jsx)(p.rj,{width:"100%",children:(0,n.jsxs)(p.kC,{height:"100%",direction:"column",p:"4",gap:"4",children:[(0,n.jsxs)(o.default,{href:"",children:[(0,n.jsx)(d.xG,{width:"48px",height:"32px"}),(0,n.jsx)(v,{animate:{maxWidth:e?"100%":"1px",opacity:e?1:0},initial:{maxWidth:"0px",opacity:0},transition:{maxWidth:{duration:.4,ease:[.16,1,.3,1]},opacity:{duration:.2,ease:"easeInOut"}},children:(0,n.jsx)(d.wD,{width:"113px",height:"32px",cursor:"pointer"})})]}),c.map((t,i)=>(0,n.jsx)(f,{...t,isExpanded:e},i))]})}),(0,n.jsx)(p.rj,{width:"fit-content",children:(0,n.jsx)(p.kC,{height:"fit-content",gap:"2",p:"4",children:(0,n.jsxs)(p.kC,{px:"4",gap:"2",align:"center",onClick:()=>{i({type:"LOGOUT"})},style:{cursor:"pointer"},children:[(0,n.jsx)(d.n$,{width:"16px",height:"16px"}),(0,n.jsx)(v,{animate:{maxWidth:e?"100%":"1px",opacity:e?1:0},initial:{maxWidth:"0px",opacity:0},transition:{maxWidth:{duration:.4,ease:[.16,1,.3,1]},opacity:{duration:.2,ease:"easeInOut"}},children:(0,n.jsx)(p.xv,{...h.p.body3,style:{color:u.K.pink[11]},children:"خروج از حساب کاربری"})})]})})})]})})};let v=(0,r.ZP)(s.E.div).withConfig({componentId:"sc-ccd49adb-0"})(["overflow:hidden;display:flex;flex-direction:column;"]);var w=e=>{let{children:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g,{}),(0,n.jsx)(b,{children:t})]})};let b=r.ZP.main.withConfig({componentId:"sc-e90daf32-0"})(["min-height:calc(100vh - 240px);"])},30075:function(e,t,i){"use strict";i.d(t,{AuthProvider:function(){return p},a:function(){return c}});var n=i(57437),r=i(2265),a=i(16463),o=i(15263);let s=(0,r.createContext)(void 0),d=(e,t)=>{switch(t.type){case"LOGIN":return t.payload;case"LOGOUT":return null;default:return e}},c=()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useUser must be used within an AuthProvider");return e},p=e=>{let{children:t}=e,i=new o.Z,c=i.get("token"),[p,l]=(0,r.useReducer)(d,{token:c||null}),u=(0,a.useRouter)();return(0,r.useEffect)(()=>{(null==p?void 0:p.token)||u.push("/auth/login/receiveCode")},[null==p?void 0:p.token,u]),(0,r.useEffect)(()=>{(null==p?void 0:p.token)?i.set("token",p.token,{path:"/"}):i.remove("token",{path:"/"})},[p,i]),(0,n.jsx)(s.Provider,{value:{user:p,dispatch:l},children:t})}},31072:function(e,t,i){"use strict";i.r(t),i.d(t,{ToastError:function(){return d},ToastSuccess:function(){return s},ToastWarning:function(){return c},default:function(){return o}});var n=i(57437),r=i(23580);i(44193);let a=(0,i(89183).zo)(r.Ix).withConfig({componentId:"sc-83203d06-0"})(["& .Toastify__toast-body{font-family:var(--yekan-font) !important;padding:unset;gap:1rem;}& .Toastify__close-button{margin:-5px 0 0 -15px;}& .Toastify__toast-body > div:last-child{line-height:28px;padding-left:1rem;font-family:var(--dana-font) !important;font-size:1rem;font-weight:400;line-height:'28px';@media (min-width:","){&{line-height:normal;}}}& .Toastify__toast{min-height:fit-content;border-radius:4px;margin-bottom:1rem;padding:12px 24px 18px 24px;width:100%;@media (min-width:","){min-width:400px;width:max-content;}}& .Toastify__progress-bar--success{}& .Toastify__progress-bar--error{}& .Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning{}& .Toastify__toast-icon{width:26px;height:24px;}"],"328px","768px");var o=()=>(0,n.jsx)(a,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!0,draggable:!0,theme:"colored",limit:3,transition:r.Mi});let s=e=>r.Am.success(e,{}),d=e=>r.Am.error(e,{}),c=e=>r.Am.warning(e,{})},10008:function(e,t,i){"use strict";i.d(t,{S:function(){return o}});var n=i(16463),r=i(38472),a=i(15263);let o=r.Z.create({baseURL:"https://apibznpaneldev.darkube.app/v1/",headers:{"Content-Type":"application/json"}}),s=r.Z.create({baseURL:"https://apibznpaneldev.darkube.app/v1/",headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=new a.Z().get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),s.interceptors.request.use(e=>{let t=new a.Z().get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>{if(e.response){let t=e.response.status;401===t?console.error("Unauthorized access - perhaps the token has expired"):403===t?console.error("Forbidden - You do not have permission to access this resource."):t>=500?(console.error("Server error - Please try again later."),(0,n.redirect)("/error")):console.error("Error: ".concat(e.response.statusText))}else e.request?(console.error("Network error - the request was made but no response was received"),(0,n.redirect)("/error")):((0,n.redirect)("/error"),console.error("Error:",e.message));return Promise.reject(e)})},75312:function(e,t,i){"use strict";i.d(t,{Ai:function(){return n},QB:function(){return s},b4:function(){return d},hn:function(){return o},iF:function(){return a},zW:function(){return r}});let n=e=>null==e?void 0:e.map(e=>({categoryId:e.id,score:e.score})),r=e=>null==e?void 0:e.map(e=>({tripSeasonId:e.id,score:e.score,timing:e.timing})),a=e=>null==e?void 0:e.map(e=>({tripLimitationId:e.id,score:e.score})),o=e=>e.map(e=>{var t;return{dayOfWeek:e.dayOfWeek,type:(null===(t=e.type.find(t=>t.key===(e.isTimed?"timed":e.type.some(e=>"open"===e.key)?"open":"closed")))||void 0===t?void 0:t.key)||"",isTimed:e.isTimed,timing:e.timing.map(e=>({time:e.time,key:e.key,faKey:e.faKey}))}}),s=e=>e.map(e=>({detailId:e.id,descriptions:e.description}));function d(e){return e.map(e=>{let t={firstOpenTime:null,secondOpenTime:null,firstCloseTime:null,secondCloseTime:null};return e.timing.forEach(e=>{t[e.key]=e.time}),{dayOfWeek:e.dayOfWeek,faDay:e.faDay,isTimed:e.isTimed,firstOpenTime:t.firstOpenTime,secondOpenTime:t.secondOpenTime,firstCloseTime:t.firstCloseTime,secondCloseTime:t.secondCloseTime,type:e.type.toLowerCase()}})}}},function(e){e.O(0,[1553,3048,5452,8310,9673,3348,4518,7138,6396,722,2971,7023,1744],function(){return e(e.s=39392)}),_N_E=e.O()}]);