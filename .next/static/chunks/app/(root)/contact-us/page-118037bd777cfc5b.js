(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5595],{40750:function(e,t,n){Promise.resolve().then(n.bind(n,70833))},70833:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(57437),o=n(2265),s=n(16463),a=n(94963),i=n(93191),l=n(43767),c=n(31067);let d=async(e,t)=>(await c.x.get("/contact?limit=".concat(e,"&page=").concat(t))).data.data,u=async e=>(await c.x.delete("/contact/".concat(e))).data,p=async e=>(await c.x.post("/contact/",e)).data;var x=n(25524),h=n(7507),j=n(77855),f=n(31072),y=n(10504),g=n(27533),b=n(1845),m=n(21949),v=n(39343),w=n(72549),k=e=>{let{setIsOpen:t,data:n}=e,{control:o,watch:s}=(0,v.cI)({defaultValues:{subject:n.subject,name:n.name,email:n.email,itemContent:n.content,content:""}}),a=(0,i.NL)();console.log("modal data",n);let{mutate:l,isPending:c}=(0,x.D)({mutationFn:async e=>await p(e),onSuccess:e=>{!0===e.status?(a.invalidateQueries({queryKey:["contact-us"]}),(0,f.xO)("پیام مورد نظر با موفقیت پاسخ داده شد"),t({key:"answer",isOpen:!1})):(0,f.xO)("مشکلی پیش آمده است . لطفا مجددا تلاش نمایید")}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.rj,{width:"100%",p:"5",gapY:"14px",children:[(0,r.jsx)(v.Qr,{name:"subject",control:o,render:e=>{let{field:t}=e;return(0,r.jsx)(h.nv,{...t,placeholder:"موضوع",readOnly:!0,style:{borderRadius:12}})}}),(0,r.jsxs)(h.rj,{width:"100%",columns:"2",gapX:"5",children:[(0,r.jsx)(v.Qr,{name:"name",control:o,render:e=>{let{field:t}=e;return(0,r.jsx)(h.nv,{...t,placeholder:"نام و نام خانوادگی",readOnly:!0,style:{borderRadius:12}})}}),(0,r.jsx)(v.Qr,{name:"email",control:o,render:e=>{let{field:t}=e;return(0,r.jsx)(h.nv,{...t,placeholder:"ایمیل",readOnly:!0,style:{borderRadius:12}})}})]}),(0,r.jsx)(v.Qr,{name:"itemContent",control:o,render:e=>{let{field:t}=e;return(0,r.jsx)(h.Kx,{...t,placeholder:"پیام",rows:5,readOnly:!0,style:{borderRadius:12}})}}),(0,r.jsx)(v.Qr,{name:"content",control:o,render:e=>{let{field:t}=e;return(0,r.jsx)(h.Kx,{...t,placeholder:"متن پاسخ",rows:6,style:{borderRadius:12}})}})]}),(0,r.jsx)(w.Z,{submitButtonText:"ارسال پاسخ",closeButtonText:"لغو و بازگشت",onCloseButton:()=>t({isOpen:!1,key:"answer"}),disabled:0===s("content").length,onSubmit:()=>{l({id:n.id,subject:s("subject"),content:s("content")})},isLoading:c})]})},C=e=>{let{index:t,subject:n,content:s,name:l,created_at:c,status:d,email:p,data:v}=e,[w,C]=(0,o.useState)({key:"answer",isOpen:!1}),O=(0,i.NL)(),{mutate:P,isPending:K}=(0,x.D)({mutationFn:async()=>await u(v.id),onSuccess:e=>{!0===e.status?(O.invalidateQueries({queryKey:["contact-us"]}),(0,f.xO)("پیام مورد نظر با موفقیت حذف شد"),C({key:"delete",isOpen:!1})):(0,f.bW)("مشکلی پیش آمده است . لطفا مجددا تلاش نمایید")}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(h.rj,{width:"100%",p:"4",gap:"4",style:{borderRadius:8,backgroundColor:t%2==0?b.K.blue[2]:b.K.pink[2],border:t%2==0?"1px solid ".concat(b.K.blue[6]):"1px solid ".concat(b.K.pink[6])},children:[(0,r.jsxs)(h.kC,{width:"100%",align:"center",justify:"between",children:[(0,r.jsx)(h.xv,{...m.p.body1,style:{color:b.K.gray[12]},children:n}),(0,r.jsx)(h.xv,{...m.p.body1,style:{color:b.K.gray[12]},children:p})]}),(0,r.jsxs)(h.kC,{direction:"column",gap:"1",children:[(0,r.jsx)(h.xv,{style:{color:b.K.gray[11],fontWeight:400,fontSize:"12px",lineHeight:"15.6px"},children:l||"__"}),(0,r.jsx)(h.xv,{style:{color:b.K.gray[9],fontWeight:400,fontSize:"10px",lineHeight:"13px"},children:c?(0,y.l)(c):"__"})]}),(0,r.jsx)(h.xv,{...m.p.paragraph1,style:{color:b.K.gray[11]},children:s}),(0,r.jsxs)(h.kC,{width:"100%",align:"center",justify:"end",gap:"2",children:[(0,r.jsx)(h.zx,{size:"2",variant:"soft",type:"button",colorVariant:"DONE"===d?"BLACK":"BLUE",onClick:()=>{"PENDING"===d&&C({key:"answer",isOpen:!0})},style:"DONE"===d?{pointerEvents:"none"}:{},children:"DONE"===d?(0,r.jsxs)(h.kC,{align:"center",gap:"2",children:[(0,r.jsx)(g.Jr,{}),(0,r.jsx)(h.xv,{...m.p.body3,children:"پاسخ داده شده"})]}):"PENDING"===d&&(0,r.jsx)(h.xv,{...m.p.body3,children:"بدون پاسخ"})}),(0,r.jsx)(h.hU,{size:"2",type:"button",colorVariant:"PINK",onClick:()=>C({key:"delete",isOpen:!0}),children:(0,r.jsx)(g.rF,{})})]})]}),(0,r.jsxs)(h.u_,{isOpen:w.isOpen,onClose:()=>C({...w,isOpen:!1}),children:["answer"===w.key&&"PENDING"===d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Z,{title:"ثبت پاسخ",handleClose:()=>C({...w,isOpen:!1})}),(0,r.jsx)(k,{setIsOpen:()=>C({isOpen:!1,key:"answer"}),data:v})]}),"delete"===w.key&&(0,r.jsxs)(h.rj,{gapY:"24px",p:"5",children:[(0,r.jsxs)(h.xv,{children:["آیا از حذف مورد ",(0,r.jsx)("span",{style:{fontWeight:"bold",color:"red"},children:n})," اطمینان دارید؟"]}),(0,r.jsxs)(h.rj,{gap:"10px",columns:"2",children:[(0,r.jsx)(h.zx,{variant:"soft",size:"4",onClick:()=>P(),children:(0,r.jsx)(h.xv,{...m.p.body3,children:K?(0,r.jsx)(a.$j,{}):"بله"})}),(0,r.jsx)(h.zx,{type:"button",onClick:()=>C({...w,isOpen:!1}),variant:"solid",size:"4",children:(0,r.jsx)(h.xv,{...m.p.body3,children:"خیر"})})]})]})]})]})},O=n(29962),P=n(72051),K=n(51360),z=n(86555);function _(){let e=(0,s.useSearchParams)(),[t,n]=(0,o.useState)(e.get("page")?Number(e.get("page")):1),c=(0,i.NL)(),{data:u,isLoading:p,isFetching:x,isError:j}=(0,l.a)({queryKey:["contact-us",t],queryFn:async()=>await d(10,t)});return(console.log(u,"DATA"),p||x)?(0,r.jsx)(h.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:(0,r.jsx)(a.$j,{style:{scale:2.5}})}):!u||j?(0,f.bW)("مشکلی پیش آمده . لطفا دوباره تلاش نمایید"):(0,r.jsxs)(h.kC,{direction:"column",children:[(0,r.jsx)(O.default,{title:"پشتیبانی",isNavigation:!0}),(0,r.jsx)(h.xu,{p:"24px 110px 40px 40px ",children:(0,r.jsx)(h.rj,{width:"100%",maxWidth:"1920px",mx:"auto",children:(0,r.jsxs)(h.rj,{width:"100%",gapY:"5",children:[0===u.allContactRequests.length?(0,r.jsx)(h.kC,{width:"100%",mt:"4",children:(0,r.jsx)(h.X6,{as:"h4",size:"4",style:{color:b.K.gray[11]},children:"در حال حاضر پیامی برای نمایش وجود ندارد."})}):u.allContactRequests.map((e,t)=>(0,r.jsx)(C,{index:t,...e,data:e},t)),0!==u.allContactRequests.length&&(0,r.jsxs)(h.kC,{width:"100%",align:"center",justify:"between",children:[(0,r.jsx)(P.Z,{current:t,total:null==u?void 0:u.totalPages,onPageChange:e=>{n(e),(0,z.Z)(e),c.invalidateQueries({queryKey:["contact-us"]})}}),(0,r.jsx)(K.Z,{data:null==u?void 0:u.allContactRequests,currentPage:null==u?void 0:u.currentPage,totalCount:null==u?void 0:u.totalCount})]})]})})})]})}},57818:function(e,t,n){"use strict";n.d(t,{default:function(){return o.a}});var r=n(50551),o=n.n(r)},50551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let r=n(99920);n(57437),n(2265);let o=r._(n(40148));function s(e,t){var n;let r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let s={...r,...t};return(0,o.default)({...s,modules:null==(n=s.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return o}});let r=n(55592);function o(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return n}},40148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let r=n(57437),o=n(2265),s=n(10912),a=n(61481);function i(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},n=(0,o.lazy)(()=>t.loader().then(i)),c=t.loading;function d(e){let i=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(a.PreloadCss,{moduleIds:t.modules}):null,(0,r.jsx)(n,{...e})]}):(0,r.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(n,{...e})});return(0,r.jsx)(o.Suspense,{fallback:i,children:l})}return d.displayName="LoadableComponent",d}},61481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return s}});let r=n(57437),o=n(58512);function s(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,o.getExpectedRequestStore)("next/dynamic css"),s=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));s.push(...t)}}return 0===s.length?null:(0,r.jsx)(r.Fragment,{children:s.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},29962:function(e,t,n){"use strict";var r=n(57437);n(2265);var o=n(16463),s=n(89183),a=n(7507),i=n(27533),l=n(1845),c=n(21949);t.default=e=>{let{title:t,isNavigation:n}=e,s=(0,o.useRouter)();return(0,r.jsx)(d,{children:(0,r.jsxs)(u,{children:[(0,r.jsx)(a.xv,{...c.p.title1,style:{color:l.K.gray[11]},children:t}),n&&(0,r.jsx)(a.hU,{size:"3",variant:"surface",onClick:()=>s.back(),children:(0,r.jsx)(i.jb,{color:"#373737"})})]})})};let d=s.ZP.header.withConfig({componentId:"sc-132ec2d4-0"})(["padding:14.5px 100px 14.5px 24px;position:sticky;left:0;right:0;top:0;border-bottom:1px solid ",";background-color:",";box-shadow:",";z-index:10;"],l.K.gray[6],l.K.gray[1],l.i.shadow1),u=(0,s.ZP)(a.kC).withConfig({componentId:"sc-132ec2d4-1"})(["max-width:1920px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;"])},51360:function(e,t,n){"use strict";var r=n(57437);n(2265);var o=n(1845),s=n(21949),a=n(7507);t.Z=e=>{let{data:t,currentPage:n,totalCount:i,keyText:l="برنامه"}=e,c=null==t?void 0:t.length,d=(n-1)*c+1,u=Math.min(d+c-1,i);return(0,r.jsx)(a.xv,{...s.p.body2,style:{color:o.K.gray[11]},children:"".concat(d,"-").concat(u," از ").concat(i," ").concat(l)})}},72549:function(e,t,n){"use strict";var r=n(57437);n(2265);var o=n(94963),s=n(1845),a=n(21949),i=n(7507);t.Z=e=>{let{isSubmit:t=!0,closeButtonText:n,submitButtonText:l,isLoading:c,onCloseButton:d,onSubmit:u,isDisableSubmitBtn:p=!1,disabled:x=!1}=e;return(0,r.jsx)(i.kC,{height:"max-content",gap:"16px",left:"0",p:"16px",right:"0",style:{backgroundColor:s.K.gray[2],marginBlockStart:"auto",borderTop:"1px solid ".concat(s.K.gray[3]),boxShadow:s.i.shadow1,borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px"},position:"sticky",bottom:"0px",children:(0,r.jsxs)(i.rj,{gap:"16px",columns:"2",children:[(0,r.jsx)(i.zx,{disabled:p||x,onClick:u,type:t?"submit":"button",variant:"soft",size:"3",style:{width:"fit-content",padding:"9.5px 38px"},children:c?(0,r.jsx)(o.$j,{}):(0,r.jsx)(i.xv,{...a.p.body1,children:l})}),(0,r.jsx)(i.zx,{type:"button",colorVariant:"PINK",size:"3",onClick:d,style:{width:"fit-content",padding:"9.5px 38px"},children:(0,r.jsx)(i.xv,{...a.p.body1,children:n})})]})})}},77855:function(e,t,n){"use strict";var r=n(57437);n(2265);var o=n(89183),s=n(27533),a=n(1845),i=n(21949),l=n(7507);t.Z=e=>{let{handleClose:t,title:n}=e;return(0,r.jsxs)(c,{position:"sticky",top:"0",p:"8px 16px",justify:"between",style:{backgroundColor:a.K.blue[10],zIndex:"100"},align:"center",children:[(0,r.jsx)(l.xv,{...i.p.title2,style:{color:a.K.gray[1],fontWeight:700},children:n}),(0,r.jsx)(l.hU,{type:"button",onClick:t,variant:"soft",size:"2",style:{backgroundColor:a.K.blue[9],borderRadius:"12px"},children:(0,r.jsx)(s.x8,{})})]})};let c=(0,o.zo)(l.kC).withConfig({componentId:"sc-38bd6e22-0"})(["border-top-right-radius:8px;border-top-left-radius:8px;"])},72051:function(e,t,n){"use strict";var r=n(57437);n(2265),n(61170);var o=n(57818),s=n(7507),a=n(27533);n(34916);let i=(0,o.default)(()=>n.e(8372).then(n.bind(n,94212)).then(e=>e.default),{loadableGenerated:{webpack:()=>[94212]},ssr:!1});t.Z=e=>{let{current:t,total:n,onPageChange:o,...l}=e;return(0,r.jsx)(s.kC,{align:"center",maxWidth:"348px",children:(0,r.jsx)(i,{current:t,total:n,onPageChange:o,...l,className:"pagination",previousLabel:(0,r.jsx)(a.jR,{}),nextLabel:(0,r.jsx)(a.EB,{})})})}},10504:function(e,t,n){"use strict";n.d(t,{l:function(){return s}});var r=n(64673),o=n.n(r);function s(e){return o()(e).locale("fa").format("jYYYY/jMM/jDD")}},31067:function(e,t,n){"use strict";n.d(t,{x:function(){return c},z:function(){return d}});var r=n(16463),o=n(38472),s=n(15263),a=n(86300).Buffer;let i="".concat("bznpanelapi",":").concat("VX+kPbS#@sdD5$"),l=a.from(i).toString("base64"),c=o.Z.create({baseURL:"https://api-admin-dev.darkube.app/v1/",headers:{"up-auth":"Basic ".concat(l),"Content-Type":"application/json"}}),d=o.Z.create({baseURL:"https://uploader.darkube.app/admin/uploads/",headers:{"Content-Type":"application/json","up-auth":"Basic ".concat(l)}});d.interceptors.request.use(e=>{let t=new s.Z().get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),c.interceptors.request.use(e=>{let t=new s.Z().get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),c.interceptors.response.use(e=>e,e=>{if(e.response){let t=e.response.status;401===t?console.error("Unauthorized access - perhaps the token has expired"):403===t?console.error("Forbidden - You do not have permission to access this resource."):t>=500?(console.error("Server error - Please try again later."),(0,r.redirect)("/error")):console.error("Error: ".concat(e.response.statusText))}else e.request?(console.error("Network error - the request was made but no response was received"),(0,r.redirect)("/error")):((0,r.redirect)("/error"),console.error("Error:",e.message));return Promise.reject(e)})},86555:function(e,t){"use strict";t.Z=e=>{{let t=new URLSearchParams(window.location.search);t.set("page",e.toString());let n=window.location.pathname;window.history.pushState({},"","".concat(n,"?").concat(t.toString()))}}},61170:function(){},34916:function(){}},function(e){e.O(0,[1553,3048,3497,8334,5452,8310,6990,1825,8702,9269,783,7507,7533,2971,7023,1744],function(){return e(e.s=40750)}),_N_E=e.O()}]);