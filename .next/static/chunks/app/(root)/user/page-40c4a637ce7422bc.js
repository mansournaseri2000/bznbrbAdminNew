(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9960],{87553:function(e,t,r){Promise.resolve().then(r.bind(r,67580))},67580:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(57437),a=r(2265),s=r(39343),o=r(94963),i=r(25524),l=r(27918),c=r(51537),u=r(96396),d=r(83882),h=e=>{let{control:t}=(0,s.Gc)();return(0,n.jsxs)(u.rj,{width:"100%",columns:"3",gapX:"4",style:{gridTemplateColumns:"3fr auto 1fr"},children:[(0,n.jsx)(s.Qr,{name:"searchQuery",control:t,render:e=>{let{field:t}=e;return(0,n.jsx)(u.nv,{...t,placeholder:"جستجوی  کاربر",style:{borderRadius:12}})}}),(0,n.jsx)(u.hU,{size:"3",variant:"soft",onClick:e.onSubmit,children:(0,n.jsx)(d.HN,{})}),(0,n.jsx)(s.Qr,{name:"status",control:t,render:e=>{let{field:t}=e;return(0,n.jsx)(u.fp,{...t,placeholder:"وضعیت کاربر",value:String(t.value),onValueChange:e=>{t.onChange(e)},children:c.C0.map(e=>(0,n.jsx)(u.Ql,{value:String(e.value),children:e.key},e.id))})}})]})},p=r(57818),f=r(16463),g=r(1845),y=r(21949);let x=(0,p.default)(()=>Promise.resolve().then(r.bind(r,62188)),{loadableGenerated:{webpack:()=>[62188]},ssr:!1});var m=e=>{let{data:t}=e,r=(0,f.useRouter)();return(0,n.jsx)(u.xu,{width:"100%",style:{overflow:"scroll"},children:(0,n.jsx)(x,{columns:[{accessorKey:"index",header:"ردیف",cell:e=>(0,n.jsx)(u.xv,{...y.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:g.K.gray[11]},children:e.row.index+1})},{accessorKey:"fullName",header:"نام و نام خانوادگی",cell:e=>{let t=e.getValue();return(0,n.jsx)(u.xv,{...y.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:g.K.gray[11]},children:t||"-"})}},{accessorKey:"mobileNumber",header:"شماره تماس",cell:e=>{let t=e.getValue();return(0,n.jsx)(u.xv,{...y.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:g.K.gray[11]},children:t||"-"})}},{accessorKey:"email",header:"ایمیل",cell:e=>{let t=e.getValue();return(0,n.jsx)(u.xv,{...y.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:g.K.gray[11]},children:t||"-"})}},{accessorKey:"status",header:"نوع کاربر",cell:e=>{let t=e.getValue();return(0,n.jsx)(u.xv,{...y.p.body2,style:{display:"flex",width:"fit-content",alignItems:"center",padding:"4px 8px",backgroundColor:!1===t?g.K.pink[3]:g.K.blue[3],color:!1===t?g.K.pink[11]:g.K.blue[11],borderRadius:4},children:!0===t?"فعال":"غیر فعال"})}},{id:"details",cell:e=>{let{row:t}=e,a=t.original;return(0,n.jsx)(u.kC,{width:"100%",height:"100%",align:"center",justify:"center",children:(0,n.jsx)(u.zx,{variant:"surface",onClick:()=>{console.log("item",a),r.push("/user/".concat(a.id))},children:"..."})})}}],data:t})})},b=r(72051),v=r(51360),j=r(86555);function w(e){let{searchParams:t}=e,[r,c]=(0,a.useState)(t.page?Number(t.page):1),d=(0,s.cI)({defaultValues:{searchQuery:"",status:!0,limit:10,page:1}}),{watch:p,handleSubmit:f,setValue:g}=d,{data:y,mutate:x,isError:w,isPending:k}=(0,i.useMutation)({mutationFn:async e=>(0,l.qD)(e),onSuccess:async e=>{console.log("data",e)},onError:async e=>{console.log("DATA Error",e)}});(0,a.useEffect)(()=>{x(p())},[p("status"),p("page")]),console.log(y,"sample test");let C=()=>{x(p()),console.log("run")};return(0,n.jsx)(s.RV,{...d,children:(0,n.jsx)("form",{onSubmit:f(C),children:(0,n.jsxs)(u.kC,{width:"100%",direction:"column",gap:"5",p:"5",children:[(0,n.jsx)(h,{onSubmit:()=>C()}),w?(0,n.jsx)(u.xv,{children:"مشکلی پیش آمده لطفا مجدد تلاش نمایید"}):k?(0,n.jsx)(o.$j,{style:{marginInline:"auto",scale:3,marginBlock:"20px"}}):(0,n.jsx)(m,{data:null==y?void 0:y.latestUsers}),(null==y?void 0:y.latestUsers)&&(0,n.jsxs)(u.kC,{width:"100%",align:"center",justify:"between",children:[(0,n.jsx)(b.Z,{current:r,total:null==y?void 0:y.totalPages,onPageChange:e=>{c(e),g("page",e),(0,j.Z)(e),C()}}),(0,n.jsx)(v.Z,{data:null==y?void 0:y.latestUsers,currentPage:null==y?void 0:y.currentPage,totalCount:null==y?void 0:y.totalCount})]})]})})})}},10912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let n=r(55592);function a(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return r}},61481:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return s}});let n=r(57437),a=r(58512);function s(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,a.getExpectedRequestStore)("next/dynamic css"),s=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));s.push(...t)}}return 0===s.length?null:(0,n.jsx)(n.Fragment,{children:s.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},27918:function(e,t,r){"use strict";r.d(t,{bG:function(){return l},gG:function(){return o},qD:function(){return s},uz:function(){return i},v7:function(){return a}});var n=r(31067);let a=e=>{let t={};return Object.keys(e).forEach(r=>{let n=e[r];null===n||""===n||Array.isArray(n)&&0===n.length||0===n||"null"===n||(t[r]=n)}),t},s=async e=>(await n.x.post("user",e)).data.data,o=async e=>{let t=a({...e,originCityId:Number(e.originCityId),originProvinceId:Number([e.originProvinceId]),destinationCityId:Number(e.destinationCityId),destinationProvinceId:Number(e.destinationProvinceId),departureDateStart:new Date(e.departureDateStart).getTime()?new Date(e.departureDateStart).getTime():null});return(await n.x.post("trips/recentTrips",t,{})).data.data},i=async(e,t)=>(await n.x.patch("user/profile/partiallyEditUser/".concat(e),t)).data,l=async e=>(await n.x.get("user/userInfoForUserTrips/".concat(e))).data.data},51537:function(e,t,r){"use strict";r.d(t,{C0:function(){return n},Qd:function(){return s},gy:function(){return a}});let n=[{id:1,key:"فعال",value:!0,disable:!1},{id:2,key:"غیر فعال",value:!1,disable:!1},{id:3,key:"هیچکدام",value:null,disable:!1}],a=[{id:1,name:"تاریخ رفت - جدیدترین "},{id:2,name:"تاریخ رفت - قدیمی ترین"},{id:3,name:"تاریخ بازگشت - جدیدترین"},{id:4,name:"تاریخ بازگشت - قدیمی ترین"}],s=[{id:1,name:"مرد",value:"MALE"},{id:2,name:"زن",value:"FEMALE"}]},51360:function(e,t,r){"use strict";var n=r(57437);r(2265);var a=r(1845),s=r(21949),o=r(96396);t.Z=e=>{let{data:t,currentPage:r,totalCount:i}=e,l=null==t?void 0:t.length,c=(r-1)*l+1,u=Math.min(c+l-1,i);return(0,n.jsx)(o.xv,{...s.p.body2,style:{color:a.K.gray[11]},children:"".concat(c,"-").concat(u," از ").concat(i," برنامه")})}},72051:function(e,t,r){"use strict";var n=r(57437);r(2265),r(61170);var a=r(57818),s=r(96396),o=r(83882);r(34916);let i=(0,a.default)(()=>r.e(8372).then(r.bind(r,94212)).then(e=>e.default),{loadableGenerated:{webpack:()=>[94212]},ssr:!1});t.Z=e=>{let{current:t,total:r,onPageChange:a,...l}=e;return(0,n.jsx)(s.kC,{align:"center",maxWidth:"348px",children:(0,n.jsx)(i,{current:t,total:r,onPageChange:a,...l,className:"pagination",previousLabel:(0,n.jsx)(o.jR,{}),nextLabel:(0,n.jsx)(o.EB,{})})})}},31067:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(16463),a=r(38472),s=r(15263);let o=a.Z.create({baseURL:"https://api-dev.darkube.app/v1/",headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=new s.Z().get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>{if(e.response){let t=e.response.status;401===t?console.error("Unauthorized access - perhaps the token has expired"):403===t?console.error("Forbidden - You do not have permission to access this resource."):t>=500?(console.error("Server error - Please try again later."),(0,n.redirect)("/error")):console.error("Error: ".concat(e.response.statusText))}else e.request?(console.error("Network error - the request was made but no response was received"),(0,n.redirect)("/error")):((0,n.redirect)("/error"),console.error("Error:",e.message));return Promise.reject(e)})},86555:function(e,t){"use strict";t.Z=e=>{{let t=new URLSearchParams(window.location.search);t.set("page",e.toString());let r=window.location.pathname;window.history.pushState({},"","".concat(r,"?").concat(t.toString()))}}},61170:function(){},34916:function(){}},function(e){e.O(0,[1553,3048,3497,8334,5452,8310,9673,3348,4518,6396,3882,6412,2971,7023,1744],function(){return e(e.s=87553)}),_N_E=e.O()}]);