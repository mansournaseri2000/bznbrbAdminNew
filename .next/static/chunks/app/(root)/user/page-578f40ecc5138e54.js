(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9960],{48017:function(e,r,t){Promise.resolve().then(t.bind(t,67580))},67580:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return C}});var n=t(57437),l=t(2265),a=t(39343),s=t(16463),o=t(94963),i=t(25524),c=t(27918),u=t(51537),d=t(28326),h=t(23405),x=e=>{let{control:r}=(0,a.Gc)(),t=(0,s.useSearchParams)(),l=e=>t.get(e)||"";return(0,n.jsxs)(d.rj,{width:"100%",columns:"3",gapX:"4",style:{gridTemplateColumns:"3fr 1fr"},children:[(0,n.jsx)(a.Qr,{name:"searchQuery",control:r,render:r=>{let{field:t}=r;return(0,n.jsx)(h.Z,{...t,placeholder:"جستجو نام کاربر یا شماره تماس",defaultValue:l("searchQuery")?l("searchQuery"):"",onClick:e.onSubmit})}}),(0,n.jsx)(a.Qr,{name:"status",control:r,render:r=>{let{field:t}=r;return(0,n.jsx)(d.fp,{...t,placeholder:"وضعیت کاربر",value:String(t.value),onValueChange:r=>{t.onChange(r),e.onSubmit()},size:"3",children:u.C0.map(e=>(0,n.jsx)(d.Ql,{value:String(e.value),children:e.key},e.id))})}})]})},g=t(57818),p=t(1845),m=t(21949);let y=(0,g.default)(()=>Promise.resolve().then(t.bind(t,62188)),{loadableGenerated:{webpack:()=>[62188]},ssr:!1});var f=e=>{let{data:r}=e,t=(0,s.useRouter)();return(0,n.jsx)(d.xu,{width:"100%",style:{overflow:"scroll"},children:(0,n.jsx)(y,{columns:[{accessorKey:"index",header:"ردیف",cell:e=>(0,n.jsx)(d.xv,{...m.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:p.K.gray[11]},children:e.row.index+1})},{accessorKey:"fullName",header:"نام و نام خانوادگی",cell:e=>{let r=e.getValue();return(0,n.jsx)(d.xv,{...m.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:p.K.gray[11]},children:r&&""!==r.trim()?r:"-"})}},{accessorKey:"mobileNumber",header:"شماره تماس",cell:e=>{let r=e.getValue();return(0,n.jsx)(d.xv,{...m.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:p.K.gray[11]},children:r||"-"})}},{accessorKey:"email",header:"ایمیل",cell:e=>{let r=e.getValue();return(0,n.jsx)(d.xv,{...m.p.body2,style:{display:"flex",height:"100%",alignItems:"center",color:p.K.gray[11]},children:r||"-"})}},{accessorKey:"status",header:"نوع کاربر",cell:e=>{let r=e.getValue();return(0,n.jsx)(d.xv,{...m.p.body2,style:{display:"flex",width:"fit-content",alignItems:"center",padding:"4px 8px",backgroundColor:!1===r?p.K.pink[3]:p.K.blue[3],color:!1===r?p.K.pink[11]:p.K.blue[11],borderRadius:4},children:!0===r?"فعال":"غیر فعال"})}},{id:"details",cell:e=>{let{row:r}=e,l=r.original;return(0,n.jsx)(d.kC,{width:"100%",height:"100%",align:"center",justify:"center",children:(0,n.jsx)(d.zx,{variant:"surface",onClick:e=>{console.log("item",l),e.preventDefault(),t.push("/user/".concat(l.id))},children:"..."})})}}],data:r})})},b=t(29962),j=t(72051),v=t(51360),k=t(86555),w=t(25231);function C(e){let{searchParams:r}=e,{replace:t}=(0,s.useRouter)(),[u,h]=(0,l.useState)(r.page?Number(r.page):1),g=(0,a.cI)({defaultValues:{searchQuery:r.searchQuery||"",status:r.status?r.status:"",limit:10,page:u}}),{watch:p,handleSubmit:m,setValue:y}=g,{data:C,mutate:K,isError:P,isPending:S}=(0,i.useMutation)({mutationFn:async e=>(0,c.qD)(e),onSuccess:async e=>{let r=Object.fromEntries(Object.entries(p()).filter(e=>{let[r,t]=e;return void 0!==t&&""!==t&&"none"!==t&&null!==t&&!(Array.isArray(t)&&0===t.length)&&!(Array.isArray(t)&&t.every(e=>""===e))&&!(Array.isArray(t)&&t.every(e=>"none"===e))&&!("object"==typeof t&&null!==t&&0===Object.keys(t).length)})),n=(0,w.X)(r);t("/user?".concat(n)),console.log("data",e)},onError:async e=>{console.log("DATA Error",e)}});(0,l.useEffect)(()=>{K(p())},[]);let I=()=>{K(p())};return(0,n.jsxs)(d.kC,{direction:"column",children:[(0,n.jsx)(b.default,{title:"لیست کاربران",isNavigation:!0}),(0,n.jsx)(d.xu,{pr:"90px",children:(0,n.jsx)(d.rj,{width:"100%",maxWidth:"1920px",mx:"auto",children:(0,n.jsx)(a.RV,{...g,children:(0,n.jsx)("form",{onSubmit:m(I),children:(0,n.jsxs)(d.kC,{width:"100%",direction:"column",gap:"5",p:"5",children:[(0,n.jsx)(x,{onSubmit:()=>I()}),P?(0,n.jsx)(d.xv,{children:"مشکلی پیش آمده لطفا مجدد تلاش نمایید"}):S?(0,n.jsx)(o.$j,{style:{marginInline:"auto",scale:3,marginBlock:"20px"}}):(0,n.jsx)(f,{data:null==C?void 0:C.latestUsers}),(null==C?void 0:C.latestUsers)&&(0,n.jsxs)(d.kC,{width:"100%",align:"center",justify:"between",children:[(0,n.jsx)(j.Z,{current:u,total:null==C?void 0:C.totalPages,onPageChange:e=>{h(e),y("page",e),(0,k.Z)(e),I()}}),(0,n.jsx)(v.Z,{data:null==C?void 0:C.latestUsers,currentPage:null==C?void 0:C.currentPage,totalCount:null==C?void 0:C.totalCount})]})]})})})})})]})}},23405:function(e,r,t){"use strict";var n=t(57437),l=t(2265),a=t(39343),s=t(89183),o=t(28326),i=t(27533),c=t(1845);let u=(0,l.forwardRef)((e,r)=>{let{placeholder:t,defaultValue:l,onClick:s,...c}=e,{setValue:u}=(0,a.Gc)();return(0,n.jsxs)(d,{...c,ref:r,height:"fit-content",children:[(0,n.jsx)(h,{...c,ref:r,placeholder:t,variant:"surface",defaultValue:l,onChange:()=>{u("page",1)}}),(0,n.jsx)(o.hU,{size:"4",variant:"soft",onClick:s,children:(0,n.jsx)(i.HN,{})})]})});u.displayName="CustomSearch",r.Z=u;let d=(0,s.ZP)(o.kC).withConfig({componentId:"sc-2a59b276-0"})(["max-height:48px;align-items:center;border:1px solid ",";border-radius:12px;padding-inline-start:1rem;&:focus-within{background-color:",";box-shadow:",";border:1px solid ",";}"],c.K.gray[7],c.K.blue[2],c.i.shadow1,c.K.gray[3]),h=(0,s.ZP)(o.nv).withConfig({componentId:"sc-2a59b276-1"})(["&.rt-TextFieldRoot:where(.rt-variant-surface){border:none;outline:none;box-shadow:none;margin-block-end:-10px;}&:focus-within{outline:none !important;border:none !important;background-color:transparent !important;box-shadow:none !important;}@media (hover:hover){background-color:transparent !important;}"])}},function(e){e.O(0,[1553,3048,3497,8334,5452,8310,1825,8702,8326,7533,3898,2971,7023,1744],function(){return e(e.s=48017)}),_N_E=e.O()}]);