(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2401],{25512:function(e,t,r){Promise.resolve().then(r.bind(r,66114)),Promise.resolve().then(r.bind(r,39752)),Promise.resolve().then(r.bind(r,75990))},66114:function(e,t,r){"use strict";r.d(t,{default:function(){return b}});var s=r(57437),n=r(2265),i=r(39343),o=r(16463),l=r(96396),d=r(1845),a=r(21949),c=r(72549),x=r(77855),p=r(83882),u=e=>{let{isOpen:t,setIsOpen:r,type:n}=e,{control:o}=(0,i.Gc)();return(0,s.jsxs)(l.u_,{isOpen:t,onClose:()=>r(!1),children:[(0,s.jsx)(x.Z,{title:"edit"===n?"ویرایش آگهی":"افزودن آگهی",handleClose:()=>r(!1),icon:(0,s.jsx)(p.x8,{})}),(0,s.jsxs)(l.rj,{width:"100%",p:"4",style:{justifyItems:"center"},children:[(0,s.jsx)(l.kC,{width:"328px",height:"200px",align:"center",justify:"center",mb:"3",style:{borderRadius:8,border:"1px solid ".concat(d.K.gray[6])},children:"image picker"}),(0,s.jsx)(i.Qr,{name:"text",control:o,render:e=>{let{field:t}=e;return(0,s.jsx)(l.nv,{...t,placeholder:"Alt Text"})}}),(0,s.jsx)(i.Qr,{name:"description",control:o,render:e=>{let{field:t}=e;return(0,s.jsx)(l.Kx,{...t,placeholder:"توضیحات تصویر",rows:3})}})]}),(0,s.jsx)(c.Z,{submitButtonText:"edit"===n?"ثبت تغییرات":"ثبت آگهی",closeButtonText:"لغو",onCloseButton:()=>r(!1)})]})},h=e=>{let{id:t}=e,[r,i]=(0,n.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.kC,{width:"100%",align:"center",justify:"between",style:{backgroundColor:d.K.gray[2],border:"2px dashed ".concat(d.K.blue[8]),borderRadius:8},children:[(0,s.jsx)(l.kC,{p:"44px 32px",children:(0,s.jsx)(l.X6,{style:{fontSize:"96px",fontWeight:500,lineHeight:"122.5px",color:d.K.gray[8]},children:t})}),(0,s.jsx)(l.kC,{width:"55%",children:(0,s.jsx)(l.zx,{variant:"surface",onClick:()=>i(!0),children:(0,s.jsxs)(l.kC,{p:"13.5px 15px 13.5px 19px",align:"center",gap:"2",children:[(0,s.jsx)(l.xv,{...a.p.body1,children:"+"}),(0,s.jsx)(l.xv,{...a.p.body1,children:"افزودن آگهی"})]})})})]}),(0,s.jsx)(u,{type:"add",isOpen:r,setIsOpen:i})]})},j=r(66648),y=r(4867),g=e=>{let{id:t,pic:r,url:i,altText:o,description:h}=e,[g,b]=(0,n.useState)("edit"),[C,f]=(0,n.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.rj,{width:"100%",p:"4",gapY:"4",style:{border:"1px solid ".concat(d.K.gray[6]),borderRadius:8},children:[(0,s.jsxs)(l.kC,{width:"100%",align:"center",justify:"between",children:[(0,s.jsx)(l.X6,{style:{color:d.K.gray[11],fontSize:"32px",fontWeight:500,lineHeight:"37.5px"},children:t}),(0,s.jsxs)(l.kC,{align:"center",gap:"4",children:[(0,s.jsx)(l.hU,{size:"3",onClick:()=>{b("edit"),f(!0)},children:(0,s.jsx)(p.z,{})}),(0,s.jsx)(l.hU,{size:"3",variant:"surface",onClick:()=>{b("delete"),f(!0)},children:(0,s.jsx)(p.rF,{})})]})]}),(0,s.jsxs)(l.kC,{width:"100%",gap:"10px",children:[(0,s.jsx)(l.xu,{width:"328px",height:"200px",position:"relative",children:(0,s.jsx)(j.default,{src:r,alt:"تصویر تبلیغ",fill:!0,style:{borderRadius:8}})}),(0,s.jsxs)(l.kC,{width:"77.5%",direction:"column",mt:"2",style:{justifyContent:"space-between"},children:[(0,s.jsxs)(l.kC,{direction:"column",gap:"3",children:[(0,s.jsx)(l.xv,{...a.p.body1,style:{color:d.K.gray[11]},children:o}),(0,s.jsx)(l.xv,{...a.p.paragraph1,style:{color:d.K.gray[11]},children:h})]}),i&&(0,s.jsxs)(l.kC,{p:"12px 16px",gap:"2",align:"center",children:[(0,s.jsx)(l.hU,{variant:"surface",size:"1",children:(0,s.jsx)(y.TIy,{style:{color:d.K.blue[10]}})}),(0,s.jsx)(l.xv,{...a.p.body3,style:{color:d.K.blue[11]},children:i})]})]})]})]}),"delete"===g?(0,s.jsxs)(l.u_,{isOpen:C,onClose:()=>f(!1),children:[(0,s.jsx)(x.Z,{title:"حذف آگهی",handleClose:()=>f(!1),icon:(0,s.jsx)(p.x8,{})}),(0,s.jsx)(l.rj,{width:"100%",p:"4",children:(0,s.jsx)(l.X6,{as:"h2",size:"5",children:"آیا از حذف این آگهی اطمینان داید؟"})}),(0,s.jsx)(c.Z,{submitButtonText:"حذف آگهی",closeButtonText:"لغو",onCloseButton:()=>f(!1)})]}):"edit"===g&&(0,s.jsx)(u,{type:"edit",isOpen:C,setIsOpen:f})]})},b=e=>{let{data:t}=e,r=(0,i.cI)({defaultValues:{text:"",description:""}}),n=(0,o.useRouter)();return(0,s.jsx)(i.RV,{...r,children:(0,s.jsxs)(l.rj,{width:"100%",gapY:"5",children:[t.map(e=>e.pic&&e.url&&e.altText&&e.description?(0,s.jsx)(g,{...e},e.id):(0,s.jsx)(h,{id:e.id},e.id)),(0,s.jsxs)(l.kC,{p:"4",gap:"5",style:{border:"1px solid ".concat(d.K.gray[6]),borderRadius:8,backgroundColor:d.K.gray[2]},children:[(0,s.jsx)(l.zx,{size:"3",variant:"soft",style:{padding:"13.5px 48.5px"},children:(0,s.jsx)(l.xv,{...a.p.body1,children:"ثبت"})}),(0,s.jsx)(l.zx,{type:"button",size:"3",colorVariant:"PINK",onClick:()=>n.back(),style:{padding:"13.5px 48.5px"},children:(0,s.jsx)(l.xv,{...a.p.body1,children:"لغو"})})]})]})})}},39752:function(e,t,r){"use strict";var s=r(57437);r(2265);var n=r(16463),i=r(94963),o=r(76351),l=r(927),d=r(96396),a=r(31072),c=r(25985);t.default=()=>{let e=(0,n.useParams)().slug[2];console.log("\uD83D\uDE80 ~ CitiesListContainer ~ cityId:",e);let{data:t,isLoading:r,isFetching:x,isError:p}=(0,o.useQuery)({queryKey:["banner-provinces"],queryFn:async()=>await (0,l.vo)(Number(e))});return(console.log("CITY DATA",t),r||x)?(0,s.jsx)(i.$j,{style:{margin:"50px auto",scale:2}}):!t||p?(0,a.ToastError)("مشکلی پیش آمده.لطفا مجددا تلاش نمایید"):(0,s.jsx)(d.rj,{width:"100%",columns:"2",gap:"5",children:t.provinces.map((e,t)=>(0,s.jsx)(c.Z,{type:"banner",label:e.cityName,latestUpdatedAt:e.lastUpdated,holdersCount:e.bannerCount,adKey:"city",path:"/ads/province/city/cities-ad/".concat(e.cityId)},t))})}},75990:function(e,t,r){"use strict";var s=r(57437);r(2265);var n=r(94963),i=r(76351),o=r(927),l=r(96396),d=r(31072),a=r(25985);t.default=()=>{let{data:e,isLoading:t,isFetching:r,isError:c}=(0,i.useQuery)({queryKey:["banner-provinces"],queryFn:async()=>await (0,o.wu)()});return(console.log("DATA",e),t||r)?(0,s.jsx)(n.$j,{style:{margin:"50px auto",scale:2}}):!e||c?(0,d.ToastError)("مشکلی پیش آمده.لطفا مجددا تلاش نمایید"):(0,s.jsx)(l.rj,{width:"100%",columns:"2",gap:"5",children:e.provinces.map(e=>(0,s.jsx)(a.Z,{adKey:"city",type:"province_list",label:e.name,holdersCount:e.bannerCount,latestUpdatedAt:e.lastUpdated,id:e.id,path:"/ads/province/province-ad/".concat(e.id)},e.id))})}},72549:function(e,t,r){"use strict";var s=r(57437);r(2265);var n=r(94963),i=r(1845),o=r(21949),l=r(96396);t.Z=e=>{let{closeButtonText:t,submitButtonText:r,isLoading:d,onCloseButton:a,onSubmit:c,isFull:x}=e;return(0,s.jsx)(l.kC,{height:"max-content",gap:"16px",left:"0",p:"16px",right:"0",style:{backgroundColor:i.K.gray[2],marginBlockStart:"auto",borderTop:"1px solid ".concat(i.K.gray[3]),boxShadow:i.i.shadow1,borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px"},position:"sticky",bottom:"0px",children:(0,s.jsxs)(l.rj,{gap:"16px",columns:"2",width:x?"100%":"max-content",children:[(0,s.jsx)(l.zx,{onClick:c,type:"submit",variant:"soft",size:"3",style:{width:x?"100%":"fit-content",padding:"9.5px 38px"},children:d?(0,s.jsx)(n.$j,{}):(0,s.jsx)(l.xv,{...o.p.body1,children:r})}),(0,s.jsx)(l.zx,{type:"button",variant:"solid",size:"3",onClick:a,style:{width:x?"100%":"fit-content",padding:"9.5px 38px"},children:(0,s.jsx)(l.xv,{...o.p.body1,children:t})})]})})}},77855:function(e,t,r){"use strict";var s=r(57437);r(2265);var n=r(89183),i=r(1845),o=r(21949),l=r(96396);t.Z=e=>{let{handleClose:t,title:r,icon:n}=e;return(0,s.jsxs)(d,{position:"sticky",top:"0",p:"8px 16px",justify:"between",style:{backgroundColor:i.K.blue[10],zIndex:"100"},align:"center",children:[(0,s.jsx)(l.xv,{...o.p.title2,style:{color:i.K.gray[1],fontWeight:700},children:r}),(0,s.jsx)(l.hU,{type:"button",onClick:t,variant:"soft",size:"2",style:{backgroundColor:i.K.blue[9],borderRadius:"12px"},children:(0,s.jsx)(l.kC,{justify:"center",align:"center",style:{backgroundColor:i.K.blue[9],borderRadius:12,padding:8},children:n})})]})};let d=(0,n.zo)(l.kC).withConfig({componentId:"sc-fed1f764-0"})(["border-top-right-radius:8px;border-top-left-radius:8px;"])}},function(e){e.O(0,[1553,3048,5452,8310,6990,9673,3348,4518,9269,6648,5639,6396,3882,6838,2971,7023,1744],function(){return e(e.s=25512)}),_N_E=e.O()}]);