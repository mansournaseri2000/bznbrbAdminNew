(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{20978:function(e,t,s){Promise.resolve().then(s.bind(s,65430))},65430:function(e,t,s){"use strict";s.r(t);var r=s(57437),n=s(57818),i=s(94963),u=s(69907),l=s(36721),o=s(28326);let a=(0,n.default)(()=>Promise.all([s.e(2295),s.e(6648),s.e(7138),s.e(1705),s.e(7533),s.e(341),s.e(6351)]).then(s.bind(s,19429)),{loadableGenerated:{webpack:()=>[19429]},ssr:!1});t.default=e=>{let{params:t}=e,s=t.slug[0],n=t.slug[1],[d,c]=(0,u.useQueries)({queries:[{queryKey:["constant"],queryFn:async()=>await (0,l.iV)()},{queryKey:["place"],queryFn:async()=>await (0,l._7)(Number(n)),enabled:"edit"===s,staleTime:0,gcTime:0}]}),{data:f}=d,{data:h,isLoading:b}=c;return!f||b?(0,r.jsx)(o.kC,{style:{border:"1px solid red"},width:"100%",height:"100vh",justify:"center",align:"center",children:(0,r.jsx)(i.$j,{style:{marginInline:"auto",scale:3,marginBlock:"20px"}})}):(0,r.jsxs)(r.Fragment,{children:["edit"===s?(0,r.jsx)(o.X6,{children:"ویرایش نقطه"}):(0,r.jsx)(o.X6,{children:"ساخت نقطه"}),(0,r.jsx)(a,{placeConstant:f,status:s,placeID:Number(n),placeData:h})]})}},57818:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var r=s(50551),n=s.n(r)},50551:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=s(99920);s(57437),s(2265);let n=r._(s(40148));function i(e,t){var s;let r={loading:e=>{let{error:t,isLoading:s,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let i={...r,...t};return(0,n.default)({...i,modules:null==(s=i.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10912:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let r=s(55592);function n(e){let{reason:t,children:s}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return s}},40148:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let r=s(57437),n=s(2265),i=s(10912),u=s(61481);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},a=function(e){let t={...o,...e},s=(0,n.lazy)(()=>t.loader().then(l)),a=t.loading;function d(e){let l=a?(0,r.jsx)(a,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(u.PreloadCss,{moduleIds:t.modules}):null,(0,r.jsx)(s,{...e})]}):(0,r.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(n.Suspense,{fallback:l,children:o})}return d.displayName="LoadableComponent",d}},61481:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return i}});let r=s(57437),n=s(58512);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let s=(0,n.getExpectedRequestStore)("next/dynamic css"),i=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));i.push(...t)}}return 0===i.length?null:(0,r.jsx)(r.Fragment,{children:i.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},69907:function(e,t,s){"use strict";s.d(t,{useQueries:function(){return p}});var r=s(2265),n=s(69948),i=s(83667),u=s(49010),l=s(56298);function o(e,t){return e.filter(e=>!t.includes(e))}var a=class extends u.l{#e;#t;#s;#r;#n;#i;#u;constructor(e,t,s){super(),this.#e=e,this.#s=[],this.#r=[],this.#t=[],this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.#r.forEach(e=>{e.subscribe(t=>{this.#l(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#r.forEach(e=>{e.destroy()})}setQueries(e,t,s){this.#s=e,n.V.batch(()=>{let e=this.#r,t=this.#o(this.#s);t.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,s));let r=t.map(e=>e.observer),n=r.map(e=>e.getCurrentResult()),i=r.some((t,s)=>t!==e[s]);(e.length!==r.length||i)&&(this.#r=r,this.#t=n,this.hasListeners()&&(o(e,r).forEach(e=>{e.destroy()}),o(r,e).forEach(e=>{e.subscribe(t=>{this.#l(e,t)})}),this.#a()))})}getCurrentResult(){return this.#t}getQueries(){return this.#r.map(e=>e.getCurrentQuery())}getObservers(){return this.#r}getOptimisticResult(e,t){let s=this.#o(e),r=s.map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions));return[r,e=>this.#d(e??r,t),()=>s.map((e,t)=>{let n=r[t];return e.defaultedQueryOptions.notifyOnChangeProps?n:e.observer.trackResult(n,e=>{s.forEach(t=>{t.observer.trackProp(e)})})})]}#d(e,t){return t?(this.#n&&this.#t===this.#u&&t===this.#i||(this.#i=t,this.#u=this.#t,this.#n=(0,l.Q$)(this.#n,t(e))),this.#n):e}#o(e){let t=new Map(this.#r.map(e=>[e.options.queryHash,e])),s=e.map(e=>this.#e.defaultQueryOptions(e)),r=s.flatMap(e=>{let s=t.get(e.queryHash);return null!=s?[{defaultedQueryOptions:e,observer:s}]:[]}),n=new Set(r.map(e=>e.defaultedQueryOptions.queryHash)),u=s.filter(e=>!n.has(e.queryHash)),l=e=>{let t=this.#e.defaultQueryOptions(e);return this.#r.find(e=>e.options.queryHash===t.queryHash)??new i.z(this.#e,t)},o=u.map(e=>({defaultedQueryOptions:e,observer:l(e)}));return r.concat(o).sort((e,t)=>s.indexOf(e.defaultedQueryOptions)-s.indexOf(t.defaultedQueryOptions))}#l(e,t){let s=this.#r.indexOf(e);-1!==s&&(this.#t=function(e,t,s){let r=e.slice(0);return r[t]=s,r}(this.#t,s,t),this.#a())}#a(){n.V.batch(()=>{this.listeners.forEach(e=>{e(this.#t)})})}},d=s(93191),c=s(99038),f=s(53e3),h=s(88472),b=s(38261);function p(e,t){let{queries:s,...u}=e,l=(0,d.useQueryClient)(t),o=(0,c.useIsRestoring)(),p=(0,f.useQueryErrorResetBoundary)(),y=r.useMemo(()=>s.map(e=>{let t=l.defaultQueryOptions(e);return t._optimisticResults=o?"isRestoring":"optimistic",t}),[s,l,o]);y.forEach(e=>{(0,b.A8)(e),(0,h.pf)(e,p)}),(0,h.JN)(p);let[m]=r.useState(()=>new a(l,y,u)),[g,v,O]=m.getOptimisticResult(y,u.combine);r.useSyncExternalStore(r.useCallback(e=>o?()=>void 0:m.subscribe(n.V.batchCalls(e)),[m,o]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),r.useEffect(()=>{m.setQueries(y,u,{listeners:!1})},[y,u,m]);let j=g.some((e,t)=>(0,b.SB)(y[t],e))?g.flatMap((e,t)=>{let s=y[t];if(s){let t=new i.z(l,s);if((0,b.SB)(s,e))return(0,b.j8)(s,t,p);(0,b.Z$)(e,o)&&(0,b.j8)(s,t,p)}return[]}):[];if(j.length>0)throw Promise.all(j);let x=g.find((e,t)=>{let s=y[t];return s&&(0,h.KJ)({result:e,errorResetBoundary:p,throwOnError:s.throwOnError,query:l.getQueryCache().get(s.queryHash)})});if(null==x?void 0:x.error)throw x.error;return v(O())}}},function(e){e.O(0,[1553,3048,5452,8310,1825,8702,9269,8326,2971,7023,1744],function(){return e(e.s=20978)}),_N_E=e.O()}]);