(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{20978:function(e,t,r){Promise.resolve().then(r.bind(r,65430))},65430:function(e,t,r){"use strict";r.r(t);var s=r(57437),n=r(57818),i=r(94963),l=r(69907),u=r(36721),o=r(7507);let a=(0,n.default)(()=>Promise.all([r.e(2295),r.e(3397),r.e(7138),r.e(6648),r.e(1705),r.e(9248),r.e(341),r.e(6273)]).then(r.bind(r,19429)),{loadableGenerated:{webpack:()=>[19429]},ssr:!1});t.default=e=>{let{params:t}=e,r=t.slug[0],n=t.slug[1],[d,c]=(0,l.h)({queries:[{queryKey:["constant"],queryFn:async()=>await (0,u.iV)()},{queryKey:["place"],queryFn:async()=>await (0,u._7)(Number(n)),enabled:"edit"===r,staleTime:0,gcTime:0}]}),{data:f}=d,{data:h,isLoading:b}=c;return!f||b?(0,s.jsx)(o.kC,{style:{border:"1px solid red"},width:"100%",height:"100vh",justify:"center",align:"center",children:(0,s.jsx)(i.$j,{style:{marginInline:"auto",scale:3,marginBlock:"20px"}})}):(0,s.jsxs)(s.Fragment,{children:["edit"===r?(0,s.jsx)(o.X6,{children:"ویرایش نقطه"}):(0,s.jsx)(o.X6,{children:"ساخت نقطه"}),(0,s.jsx)(a,{placeConstant:f,status:r,placeID:Number(n),placeData:h})]})}},57818:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var s=r(50551),n=r.n(s)},50551:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let s=r(99920);r(57437),r(2265);let n=s._(r(40148));function i(e,t){var r;let s={loading:e=>{let{error:t,isLoading:r,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let i={...s,...t};return(0,n.default)({...i,modules:null==(r=i.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=r(55592);function n(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return r}},40148:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let s=r(57437),n=r(2265),i=r(10912),l=r(61481);function u(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(u(()=>null)),loading:null,ssr:!0},a=function(e){let t={...o,...e},r=(0,n.lazy)(()=>t.loader().then(u)),a=t.loading;function d(e){let u=a?(0,s.jsx)(a,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,s.jsxs)(s.Fragment,{children:["undefined"==typeof window?(0,s.jsx)(l.PreloadCss,{moduleIds:t.modules}):null,(0,s.jsx)(r,{...e})]}):(0,s.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(n.Suspense,{fallback:u,children:o})}return d.displayName="LoadableComponent",d}},61481:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return i}});let s=r(57437),n=r(58512);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,n.getExpectedRequestStore)("next/dynamic css"),i=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));i.push(...t)}}return 0===i.length?null:(0,s.jsx)(s.Fragment,{children:i.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},69907:function(e,t,r){"use strict";r.d(t,{h:function(){return p}});var s=r(2265),n=r(69948),i=r(83667),l=r(49010),u=r(56298);function o(e,t){return e.filter(e=>!t.includes(e))}var a=class extends l.l{#e;#t;#r;#s;#n;#i;#l;constructor(e,t,r){super(),this.#e=e,this.#r=[],this.#s=[],this.#t=[],this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.#s.forEach(e=>{e.subscribe(t=>{this.#u(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#s.forEach(e=>{e.destroy()})}setQueries(e,t,r){this.#r=e,n.V.batch(()=>{let e=this.#s,t=this.#o(this.#r);t.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,r));let s=t.map(e=>e.observer),n=s.map(e=>e.getCurrentResult()),i=s.some((t,r)=>t!==e[r]);(e.length!==s.length||i)&&(this.#s=s,this.#t=n,this.hasListeners()&&(o(e,s).forEach(e=>{e.destroy()}),o(s,e).forEach(e=>{e.subscribe(t=>{this.#u(e,t)})}),this.#a()))})}getCurrentResult(){return this.#t}getQueries(){return this.#s.map(e=>e.getCurrentQuery())}getObservers(){return this.#s}getOptimisticResult(e,t){let r=this.#o(e),s=r.map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions));return[s,e=>this.#d(e??s,t),()=>r.map((e,t)=>{let n=s[t];return e.defaultedQueryOptions.notifyOnChangeProps?n:e.observer.trackResult(n,e=>{r.forEach(t=>{t.observer.trackProp(e)})})})]}#d(e,t){return t?(this.#n&&this.#t===this.#l&&t===this.#i||(this.#i=t,this.#l=this.#t,this.#n=(0,u.Q$)(this.#n,t(e))),this.#n):e}#o(e){let t=new Map(this.#s.map(e=>[e.options.queryHash,e])),r=e.map(e=>this.#e.defaultQueryOptions(e)),s=r.flatMap(e=>{let r=t.get(e.queryHash);return null!=r?[{defaultedQueryOptions:e,observer:r}]:[]}),n=new Set(s.map(e=>e.defaultedQueryOptions.queryHash)),l=r.filter(e=>!n.has(e.queryHash)),u=e=>{let t=this.#e.defaultQueryOptions(e);return this.#s.find(e=>e.options.queryHash===t.queryHash)??new i.z(this.#e,t)},o=l.map(e=>({defaultedQueryOptions:e,observer:u(e)}));return s.concat(o).sort((e,t)=>r.indexOf(e.defaultedQueryOptions)-r.indexOf(t.defaultedQueryOptions))}#u(e,t){let r=this.#s.indexOf(e);-1!==r&&(this.#t=function(e,t,r){let s=e.slice(0);return s[t]=r,s}(this.#t,r,t),this.#a())}#a(){n.V.batch(()=>{this.listeners.forEach(e=>{e(this.#t)})})}},d=r(93191),c=r(99038),f=r(53e3),h=r(88472),b=r(38261);function p(e,t){let{queries:r,...l}=e,u=(0,d.NL)(t),o=(0,c.S)(),p=(0,f._)(),y=s.useMemo(()=>r.map(e=>{let t=u.defaultQueryOptions(e);return t._optimisticResults=o?"isRestoring":"optimistic",t}),[r,u,o]);y.forEach(e=>{(0,b.A8)(e),(0,h.pf)(e,p)}),(0,h.JN)(p);let[m]=s.useState(()=>new a(u,y,l)),[g,v,O]=m.getOptimisticResult(y,l.combine);s.useSyncExternalStore(s.useCallback(e=>o?()=>void 0:m.subscribe(n.V.batchCalls(e)),[m,o]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),s.useEffect(()=>{m.setQueries(y,l,{listeners:!1})},[y,l,m]);let j=g.some((e,t)=>(0,b.SB)(y[t],e))?g.flatMap((e,t)=>{let r=y[t];if(r){let t=new i.z(u,r);if((0,b.SB)(r,e))return(0,b.j8)(r,t,p);(0,b.Z$)(e,o)&&(0,b.j8)(r,t,p)}return[]}):[];if(j.length>0)throw Promise.all(j);let x=g.find((e,t)=>{let r=y[t];return r&&(0,h.KJ)({result:e,errorResetBoundary:p,throwOnError:r.throwOnError,query:u.getQueryCache().get(r.queryHash)})});if(null==x?void 0:x.error)throw x.error;return v(O())}}},function(e){e.O(0,[1553,3048,5452,8310,1825,8702,9269,7507,2971,7023,1744],function(){return e(e.s=20978)}),_N_E=e.O()}]);