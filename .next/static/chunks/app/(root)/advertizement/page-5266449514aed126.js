(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7605],{59461:function(e,t,a){Promise.resolve().then(a.bind(a,91275))},91275:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var n=a(57437);a(2265);var r=a(43397),i=a(94963),c=a(43767),s=a(89216),o=a(33879),d=a(68665),l=a(7507),p=a(31072);function u(){let{data:e,isLoading:t,isFetching:a,isError:u}=(0,c.a)({queryKey:["ads-page"],queryFn:async()=>await (0,s.nj)()}),{push:x}=(0,r.tv)();if(t||a)return(0,n.jsx)(l.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:(0,n.jsx)(i.$j,{style:{scale:2.5}})});if(!e||u)return(0,p.bW)("مشکلی پیش آمده.لطفا مجددا تلاش نمایید");let y=e=>"main_page"===e||"planner"===e||"tourmaker"===e||"article_list"===e||"article"===e||"place"===e||"maps"===e?x("/advertizement/".concat(e)):"tours"===e||"planner_trips"===e?x("/advertizement/trip/".concat(e)):x("/advertizement/other/".concat(e));return(0,n.jsxs)(l.kC,{direction:"column",children:[(0,n.jsx)(d.Z,{title:"مدیریت تبلیغات",isNavigation:!0}),(0,n.jsx)(l.xu,{p:{initial:"24px 24px 40px 40px ",lg:"24px 110px 40px 40px "},children:(0,n.jsx)(l.rj,{width:"100%",maxWidth:"1920px",mx:"auto",children:(0,n.jsx)(l.rj,{width:"100%",columns:{initial:"1",sm:"2"},gap:"5",children:e.map((e,t)=>(0,n.jsx)(o.Z,{lable:e.label,latestUpdatedAt:e.latestUpdatedAt,space:e.space,type:"main",holder:e.holder,handleRedirectAdsManagment:()=>{y(e.key)}},t))})})})]})}},89216:function(e,t,a){"use strict";a.d(t,{Di:function(){return d},LP:function(){return l},Vl:function(){return s},_5:function(){return c},mV:function(){return p},nj:function(){return i},qo:function(){return o}});var n=a(10008),r=a(31067);let i=async()=>(await r.x.get("/ads/page")).data.data,c=async(e,t,a)=>(await r.x.get("/ads/holder?holder=".concat(e,"&id=").concat(t,"&type=").concat(a))).data.data,s=async e=>{let t=new FormData;return Object.entries({type:e.type,description:e.description,page:e.page,holder:e.holder,alt:e.alt,summery:e.summery,website:e.website,socialMedia:e.socialMedia,sponsor:e.sponsor}).forEach(e=>{let[a,n]=e;n&&t.append(a,n.toString())}),t.append("file",e.file),Object.entries({provinceId:e.provinceId,cityId:e.cityId,townId:e.townId,categoryId:e.categoryId}).forEach(e=>{let[a,n]=e;null!=n&&t.append(a,n.toString())}),(await n.pN.post("admin/uploads/image",t,{headers:{"Content-Type":"multipart/form-data"}})).data},o=async e=>(await r.x.patch("/upload/edit",e)).data,d=async e=>(await r.x.delete("/upload/",{data:e})).data,l=async e=>(await r.x.get("/ads/page?pageKey=".concat(e))).data.data,p=async e=>(await r.x.get("/ads/page?pageKey=province&id=".concat(e))).data.data},33879:function(e,t,a){"use strict";var n=a(57437),r=a(7507),i=a(10504),c=a(1845),s=a(21949);t.Z=e=>{let{lable:t,latestUpdatedAt:a,space:o,type:d,holder:l,handleRedirectAdsManagment:p,handleRedirectCities:u}=e;return(0,n.jsxs)(r.kC,{p:"16px",justify:"between",style:{border:"1px solid ".concat(c.K.gray[6]),borderRadius:"8px",backgroundColor:c.K.gray[2]},children:[(0,n.jsxs)(r.rj,{gap:"12px",children:[(0,n.jsx)(r.xv,{...s.p.body1,style:{color:c.K.gray[12]},children:t}),(0,n.jsxs)(r.kC,{align:"center",gap:"8px",children:[(0,n.jsx)(r.xv,{...s.p.description2,style:{color:c.K.gray[10]},children:"main"===d?"تعداد تبلیغات":"بنر های خالی"}),(0,n.jsxs)(r.xv,{...s.p.description2,style:{color:c.K.gray[12]},children:[o," عدد"]})]}),(0,n.jsxs)(r.kC,{align:"center",gap:"8px",children:[(0,n.jsx)(r.xv,{...s.p.description2,style:{color:c.K.gray[10]},children:"آخرین ویرایش"}),(0,n.jsx)(r.xv,{...s.p.description2,style:{color:c.K.gray[12]},children:a?(0,i.l)(a):"_"})]})]}),(0,n.jsxs)(r.kC,{direction:"column",justify:"between",align:"end",children:["main"===d&&(0,n.jsx)(r.xv,{...s.p.body1,style:{color:c.K.pink[9],paddingLeft:"4px"},children:l}),"provinces"===d&&(0,n.jsx)(r.zx,{variant:"soft",size:"2",onClick:()=>{u&&u()},children:(0,n.jsx)(r.xv,{...s.p.body3,style:{color:c.K.gray[1]},children:"شهرستان ها"})}),(0,n.jsx)(r.zx,{variant:"solid",size:"2",style:{marginBlockStart:"auto"},onClick:()=>{p&&p()},children:(0,n.jsx)(r.xv,{...s.p.body3,style:{color:c.K.blue[12]},children:"مدیریت تبلیغات"})})]})]})}},10504:function(e,t,a){"use strict";a.d(t,{l:function(){return i}});var n=a(64673),r=a.n(n);function i(e){return r()(e).locale("fa").format("jYYYY/jMM/jDD")}}},function(e){e.O(0,[1553,3048,1383,5452,8310,6990,1825,8702,3397,9269,7138,1773,7507,9051,6265,2971,7023,1744],function(){return e(e.s=59461)}),_N_E=e.O()}]);