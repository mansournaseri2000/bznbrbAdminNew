(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8423],{65929:function(e,t,r){Promise.resolve().then(r.bind(r,10574))},10574:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(57437),i=r(2265),s=r(94963),a=r(93191),o=r(43767),l=r(25524),c=r(89216),u=r(85977),d=r(71166),p=r(68665),h=r(7507),y=r(77855),x=r(31072),m=r(1845),f=r(21949);function g(e){let{params:t}=e,r=t.slug,g=(0,a.NL)(),[v,w]=(0,i.useState)(null),[b,j]=(0,i.useState)({isOpen:!1,key:"create"}),{data:O,isLoading:k,isError:_,isFetching:C}=(0,o.a)({queryKey:["ads-page-type"],queryFn:async()=>await (0,c._5)(r)}),{mutate:D,isPending:E}=(0,l.D)({mutationFn:async e=>await (0,c.Vl)(e),onSuccess:e=>{e.status?(g.invalidateQueries({queryKey:["ads-page-type"]}),(0,x.xO)("آگهی مورد نظر با موفقیت ایجاد شد"),j({...b,isOpen:!1})):(0,x.bW)("مشکلی پیش آمده است. لطفا مجددا تلاش کنید")}}),{mutate:S,isPending:Z}=(0,l.D)({mutationFn:async e=>await (0,c.qo)(e),onSuccess:e=>{e.status?(g.invalidateQueries({queryKey:["ads-page-type"]}),(0,x.xO)("آگهی مورد نظر با موفقیت ویرایش شد"),j({...b,isOpen:!1})):(0,x.bW)("مشکلی پیش آمده است. لطفا مجددا تلاش کنید")}}),{mutate:N,isPending:q}=(0,l.D)({mutationFn:async()=>await (0,c.Di)({id:null==v?void 0:v.id,type:"ADS"}),onSuccess:e=>{e.status?(g.invalidateQueries({queryKey:["ads-page-type"]}),(0,x.xO)("آگهی مورد نظر با موفقیت حذف شد"),j({...b,isOpen:!1})):(0,x.bW)("مشکلی پیش آمده است. لطفا مجددا تلاش کنید")}}),z=e=>{j({key:e,isOpen:!0})},F=()=>{j({isOpen:!0,key:"delete"})};return k||C?(0,n.jsx)(h.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:(0,n.jsx)(s.$j,{style:{scale:2.5}})}):!O||_?(0,x.bW)("مشکلی پیش آمده . لطفا دوباره تلاش نمایید"):(console.log("AdsDetailCardAdsDetailCardAdsDetailCard",O),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(h.kC,{direction:"column",children:[(0,n.jsx)(p.Z,{title:(()=>{switch(r){case"main_page":return"تبلیغات صفحه اصلی";case"planner":return"تبلیغات صفحه برنامه ریز";case"tourmaker":return"تبلیغات صفحه تورساز";case"article":return"تبلیغات صفحه مقاله";case"article_list":return"تبلیغات صفحه مقالات";case"maps":return"تبلیغات صفحه نقشه گردی";case"place":return"تبلیغات صفحه نقطه";default:return""}})(),isNavigation:!0}),(0,n.jsx)(h.xu,{p:{initial:"24px 24px 40px 40px",lg:"24px 110px 40px 40px"},children:(0,n.jsx)(h.rj,{width:"100%",maxWidth:"1920px",mx:"auto",children:(0,n.jsx)(h.rj,{gapY:"5",children:0===O.length?(0,n.jsx)(h.kC,{width:"100%",mt:"4",children:(0,n.jsx)(h.X6,{as:"h4",size:"4",style:{color:m.K.gray[11]},children:"در حال حاضر آگهی برای نمایش وجود ندارد."})}):O.map((e,t)=>e&&(0,n.jsx)(u.Z,{onClick:()=>w(e),onDelete:()=>F(),onCreateOrEdit:z,data:e},t))})})})]}),(0,n.jsxs)(h.u_,{isOpen:b.isOpen,onClose:()=>j({...b,isOpen:!1}),children:["delete"!==b.key&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.Z,{title:"create"===b.key?"ثبت آگهی":"ویرایش آگهی",handleClose:()=>j({...b,isOpen:!1})}),(0,n.jsx)(d.Z,{data:v,type:b.key,isOpen:b.isOpen,onClose:()=>j({...b,isOpen:!1}),onSubmit:e=>{let t={alt:e.alt,description:e.description,file:e.imageFile,type:"ADS",sponsor:e.sponsor,website:e.website,socialMedia:e.socialMedia,summery:e.summery,page:e.page,holder:e.holder};"edit"===b.key&&v?S({id:null==v?void 0:v.id,type:"ADS",alt:t.alt,description:t.description,summery:t.summery,socialMedia:t.socialMedia,sponsor:t.sponsor,website:t.website}):"create"===b.key&&D(t)},isLoading:"create"===b.key?E:Z})]}),"delete"===b.key&&(0,n.jsxs)(h.rj,{gapY:"24px",p:"5",children:[(0,n.jsxs)(h.xv,{...f.p.body1,style:{color:m.K.gray[11]},children:["آیا از حذف آگهی ",(0,n.jsx)("span",{style:{fontWeight:"bold",color:"red"},children:null==v?void 0:v.position})," اطمینان دارید؟"]}),(0,n.jsxs)(h.rj,{gap:"10px",columns:"2",children:[(0,n.jsx)(h.zx,{variant:"soft",size:"4",onClick:()=>N(),children:(0,n.jsx)(h.xv,{...f.p.body3,children:q?(0,n.jsx)(s.$j,{}):"بله"})}),(0,n.jsx)(h.zx,{type:"button",onClick:()=>j({...b,isOpen:!1}),variant:"solid",size:"4",children:(0,n.jsx)(h.xv,{...f.p.body3,children:"خیر"})})]})]})]})]}))}},13457:function(e,t,r){"use strict";var n=r(2265);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.Z=function(e){var t,r=e.open,s=e.onClose,a=e.children,o=e.style,l=e.enableOverlay,c=e.overlayColor,u=e.overlayOpacity,d=e.zIndex,p=void 0===d?100:d,h=e.duration,y=e.direction,x=e.size,m=e.className,f=e.customIdSuffix,g=e.lockBackgroundScroll,v=void 0!==g&&g,w=e.overlayClassName,b=(0,n.useRef)(null);(0,n.useEffect)(function(){b.current=window.document.querySelector("body"),b.current&&v&&(b.current.style.overflow=r?"hidden":"")},[r]);var j=(0,n.useMemo)(function(){return f||(Math.random()+1).toString(36).substring(7)},[f]),O={backgroundColor:(void 0===c?"#000":c).toString(),opacity:void 0===u?.4:u,zIndex:p},k=i({zIndex:p+1,transitionDuration:(void 0===h?500:h)+"ms"},{left:{top:0,left:0,transform:"translate3d(-100%, 0, 0)",width:t=void 0===x?250:x,height:"100vh"},right:{top:0,right:0,transform:"translate3d(100%, 0, 0)",width:t,height:"100vh"},bottom:{left:0,right:0,bottom:0,transform:"translate3d(0, 100%, 0)",width:"100%",height:t},top:{left:0,right:0,top:0,transform:"translate3d(0, -100%, 0)",width:"100%",height:t}}[y],o);return n.createElement("div",{id:"EZDrawer"+j,className:"EZDrawer"},n.createElement("input",{type:"checkbox",id:"EZDrawer__checkbox"+j,className:"EZDrawer__checkbox",onChange:void 0===s?function(){}:s,checked:r}),n.createElement("nav",{role:"navigation",id:"EZDrawer__container"+j,style:k,className:"EZDrawer__container "+m},a),(void 0===l||l)&&n.createElement("label",{htmlFor:"EZDrawer__checkbox"+j,id:"EZDrawer__overlay"+j,className:"EZDrawer__overlay "+(void 0===w?"":w),style:O}))}},83657:function(){},43767:function(e,t,r){"use strict";r.d(t,{a:function(){return d}});var n=r(83667),i=r(2265),s=r(69948),a=r(53e3),o=r(93191),l=r(99038),c=r(88472),u=r(38261);function d(e,t){return function(e,t,r){var n,d,p,h;let y=(0,o.NL)(r),x=(0,l.S)(),m=(0,a._)(),f=y.defaultQueryOptions(e);null===(d=y.getDefaultOptions().queries)||void 0===d||null===(n=d._experimental_beforeQuery)||void 0===n||n.call(d,f),f._optimisticResults=x?"isRestoring":"optimistic",(0,u.A8)(f),(0,c.pf)(f,m),(0,c.JN)(m);let[g]=i.useState(()=>new t(y,f)),v=g.getOptimisticResult(f);if(i.useSyncExternalStore(i.useCallback(e=>{let t=x?()=>void 0:g.subscribe(s.V.batchCalls(e));return g.updateResult(),t},[g,x]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),i.useEffect(()=>{g.setOptions(f,{listeners:!1})},[f,g]),(0,u.SB)(f,v))throw(0,u.j8)(f,g,m);if((0,c.KJ)({result:v,errorResetBoundary:m,throwOnError:f.throwOnError,query:y.getQueryCache().get(f.queryHash)}))throw v.error;return null===(h=y.getDefaultOptions().queries)||void 0===h||null===(p=h._experimental_afterQuery)||void 0===p||p.call(h,f,v),f.notifyOnChangeProps?v:g.trackResult(v)}(e,n.z,t)}}},function(e){e.O(0,[1553,3048,1383,5452,8310,1825,8702,3397,9269,7138,6648,2107,7507,9051,6265,660,2971,7023,1744],function(){return e(e.s=65929)}),_N_E=e.O()}]);