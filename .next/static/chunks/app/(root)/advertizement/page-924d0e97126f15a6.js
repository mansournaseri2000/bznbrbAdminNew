(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7605],{59461:function(e,t,r){Promise.resolve().then(r.bind(r,91275))},91275:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(57437);r(2265);var a=r(16463),o=r(94963),i=r(43767),s=r(89216),c=r(33879),d=r(29962),p=r(7507),l=r(31072);function u(){let{data:e,isLoading:t,isFetching:r,isError:u}=(0,i.a)({queryKey:["ads-page"],queryFn:async()=>await (0,s.nj)()}),{push:x}=(0,a.useRouter)();if(t||r)return(0,n.jsx)(p.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:(0,n.jsx)(o.$j,{style:{scale:2.5}})});if(!e||u)return(0,l.bW)("مشکلی پیش آمده.لطفا مجددا تلاش نمایید");let h=e=>"main_page"===e||"planner"===e||"tourmaker"===e||"article_list"===e||"article"===e||"place"===e||"maps"===e?x("/advertizement/".concat(e)):"tours"===e||"planner_trips"===e?x("/advertizement/trip/".concat(e)):x("/advertizement/other/".concat(e));return(0,n.jsxs)(p.kC,{direction:"column",children:[(0,n.jsx)(d.Z,{title:"مدیریت تبلیغات",isNavigation:!0}),(0,n.jsx)(p.xu,{p:"24px 110px 40px 40px ",children:(0,n.jsx)(p.rj,{width:"100%",maxWidth:"1920px",mx:"auto",children:(0,n.jsx)(p.rj,{width:"100%",columns:{initial:"1",sm:"2"},gap:"5",children:e.map((e,t)=>(0,n.jsx)(c.Z,{lable:e.label,latestUpdatedAt:e.latestUpdatedAt,space:e.space,type:"main",holder:e.holder,handleRedirectAdsManagment:()=>{h(e.key)}},t))})})})]})}},89216:function(e,t,r){"use strict";r.d(t,{Di:function(){return d},LP:function(){return p},Vl:function(){return s},_5:function(){return i},mV:function(){return l},nj:function(){return o},qo:function(){return c}});var n=r(10008),a=r(31067);let o=async()=>(await a.x.get("/ads/page")).data.data,i=async(e,t,r)=>(await a.x.get("/ads/holder?holder=".concat(e,"&id=").concat(t,"&type=").concat(r))).data.data,s=async e=>{let t=new FormData;return t.append("type",e.type),t.append("description",e.description),t.append("page",e.page),t.append("holder",e.holder),t.append("alt",e.alt),t.append("slug",e.slug),t.append("summery",e.summery),t.append("file",e.file),t.append("website",e.website),t.append("socialMedia",e.socialMedia),t.append("sponsor",e.sponsor),t.append("provinceId",e.provinceId?e.provinceId.toString():""),t.append("cityId",e.cityId?e.cityId.toString():""),t.append("townId",e.townId?e.townId.toString():""),t.append("categoryId",e.categoryId?e.categoryId.toString():""),(await n.pN.post("admin/uploads/image",t,{headers:{"Content-Type":"multipart/form-data"}})).data},c=async e=>(await a.x.patch("/upload/edit",e)).data,d=async e=>(await a.x.delete("/upload/",{data:e})).data,p=async e=>(await a.x.get("/ads/page?pageKey=".concat(e))).data.data,l=async e=>(await a.x.get("/ads/page?pageKey=province&id=".concat(e))).data.data},33879:function(e,t,r){"use strict";var n=r(57437),a=r(7507),o=r(10504),i=r(1845),s=r(21949);t.Z=e=>{let{lable:t,latestUpdatedAt:r,space:c,type:d,holder:p,handleRedirectAdsManagment:l,handleRedirectCities:u}=e;return(0,n.jsxs)(a.kC,{p:"16px",justify:"between",style:{border:"1px solid ".concat(i.K.gray[6]),borderRadius:"8px",backgroundColor:i.K.gray[2]},children:[(0,n.jsxs)(a.rj,{gap:"12px",children:[(0,n.jsx)(a.xv,{...s.p.body1,style:{color:i.K.gray[12]},children:t}),(0,n.jsxs)(a.kC,{align:"center",gap:"8px",children:[(0,n.jsx)(a.xv,{...s.p.description2,style:{color:i.K.gray[10]},children:"main"===d?"تعداد تبلیغات":"بنر های خالی"}),(0,n.jsxs)(a.xv,{...s.p.description2,style:{color:i.K.gray[12]},children:[c," عدد"]})]}),(0,n.jsxs)(a.kC,{align:"center",gap:"8px",children:[(0,n.jsx)(a.xv,{...s.p.description2,style:{color:i.K.gray[10]},children:"آخرین ویرایش"}),(0,n.jsx)(a.xv,{...s.p.description2,style:{color:i.K.gray[12]},children:r?(0,o.l)(r):"_"})]})]}),(0,n.jsxs)(a.kC,{direction:"column",justify:"between",align:"end",children:["main"===d&&(0,n.jsx)(a.xv,{...s.p.body1,style:{color:i.K.pink[9],paddingLeft:"4px"},children:p}),"provinces"===d&&(0,n.jsx)(a.zx,{variant:"soft",size:"2",onClick:()=>{u&&u()},children:(0,n.jsx)(a.xv,{...s.p.body3,style:{color:i.K.gray[1]},children:"شهرستان ها"})}),(0,n.jsx)(a.zx,{variant:"solid",size:"2",style:{marginBlockStart:"auto"},onClick:()=>{l&&l()},children:(0,n.jsx)(a.xv,{...s.p.body3,style:{color:i.K.blue[12]},children:"مدیریت تبلیغات"})})]})]})}},29962:function(e,t,r){"use strict";var n=r(57437);r(2265);var a=r(16463),o=r(89183),i=r(7507),s=r(82336),c=r(1845),d=r(21949);t.Z=e=>{let{title:t,isNavigation:r}=e,o=(0,a.useRouter)();return(0,n.jsx)(p,{children:(0,n.jsxs)(l,{children:[(0,n.jsx)(i.xv,{...d.p.title1,style:{color:c.K.gray[11]},children:t}),r&&(0,n.jsx)(i.hU,{size:"3",variant:"surface",onClick:()=>o.back(),children:(0,n.jsx)(s.jb,{color:"#373737"})})]})})};let p=o.ZP.header.withConfig({componentId:"sc-132ec2d4-0"})(["padding:14.5px 100px 14.5px 24px;position:sticky;left:0;right:0;top:0;border-bottom:1px solid ",";background-color:",";box-shadow:",";z-index:10;"],c.K.gray[6],c.K.gray[1],c.i.shadow1),l=(0,o.ZP)(i.kC).withConfig({componentId:"sc-132ec2d4-1"})(["max-width:1920px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;"])},10504:function(e,t,r){"use strict";r.d(t,{l:function(){return o}});var n=r(64673),a=r.n(n);function o(e){return a()(e).locale("fa").format("jYYYY/jMM/jDD")}},31067:function(e,t,r){"use strict";r.d(t,{x:function(){return d},z:function(){return p}});var n=r(16463),a=r(38472),o=r(15263),i=r(86300).Buffer;let s="".concat("bznpanelapi",":").concat("VX+kPbS#@sdD5$"),c=i.from(s).toString("base64"),d=a.Z.create({baseURL:"https://api-admin-dev.darkube.app/v1/",headers:{"Content-Type":"application/json","up-auth":"Basic ".concat(c)}}),p=a.Z.create({baseURL:"https://uploader.bezanimbiroon.ir/admin/uploads/",headers:{"Content-Type":"application/json","up-auth":"Basic ".concat(c)}});p.interceptors.request.use(e=>{let t=new o.Z().get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),d.interceptors.request.use(e=>{let t=new o.Z().get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),d.interceptors.response.use(e=>e,e=>{if(e.response){let t=e.response.status;401===t?console.error("Unauthorized access - perhaps the token has expired"):403===t?console.error("Forbidden - You do not have permission to access this resource."):t>=500?(console.error("Server error - Please try again later."),(0,n.redirect)("/error")):console.error("Error: ".concat(e.response.statusText))}else e.request?(console.error("Network error - the request was made but no response was received"),(0,n.redirect)("/error")):((0,n.redirect)("/error"),console.error("Error:",e.message));return Promise.reject(e)})}},function(e){e.O(0,[1553,3048,5452,8310,6990,1825,8702,9269,783,7507,2336,2971,7023,1744],function(){return e(e.s=59461)}),_N_E=e.O()}]);