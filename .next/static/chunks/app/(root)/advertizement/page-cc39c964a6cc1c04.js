(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7605],{59461:function(e,r,t){Promise.resolve().then(t.bind(t,79579))},79579:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return j}});var n=t(57437);t(2265);var s=t(16463),a=t(94963),o=t(43767),i=t(927),c=t(7507),l=t(10504),d=t(1845),p=t(21949),u=e=>{let{lable:r,latestUpdatedAt:t,space:s,type:a,holder:o,handleRedirectAdsManagment:i,handleRedirectCities:u}=e;return(0,n.jsxs)(c.kC,{p:"16px",style:{border:"1px solid ".concat(d.K.gray[6]),borderRadius:"8px"},justify:"between",children:[(0,n.jsxs)(c.rj,{gap:"12px",children:[(0,n.jsx)(c.xv,{...p.p.body1,style:{color:d.K.gray[12]},children:r}),(0,n.jsxs)(c.kC,{align:"center",gap:"8px",children:[(0,n.jsx)(c.xv,{...p.p.description2,style:{color:d.K.gray[10]},children:"main"===a?"تعداد تبلیغات":"بنر های خالی"}),(0,n.jsx)(c.xv,{...p.p.description2,style:{color:d.K.gray[10]},children:s})]}),(0,n.jsxs)(c.kC,{align:"center",gap:"8px",children:[(0,n.jsx)(c.xv,{...p.p.description2,style:{color:d.K.gray[10]},children:"آخرین ویرایش"}),(0,n.jsx)(c.xv,{...p.p.description2,style:{color:d.K.gray[10]},children:t?(0,l.l)(t):"_"})]})]}),(0,n.jsxs)(c.kC,{direction:"column",justify:"between",align:"end",children:["main"===a&&(0,n.jsx)(c.xv,{...p.p.body1,style:{color:d.K.pink[9],paddingLeft:"4px"},children:o}),"provinces"===a&&(0,n.jsx)(c.zx,{variant:"soft",size:"4",onClick:()=>{u&&u()},children:(0,n.jsx)(c.xv,{...p.p.body1,style:{color:d.K.gray[1]},children:"شهرستان ها"})}),(0,n.jsx)(c.zx,{variant:"solid",size:"3",style:{marginBlockStart:"auto"},onClick:()=>{i&&i()},children:(0,n.jsx)(c.xv,{...p.p.body1,style:{color:d.K.blue[12]},children:"مدیریت تبلیغات"})})]})]})},x=t(29962),h=t(31072);function j(){let{data:e,isLoading:r,isFetching:t,isError:l}=(0,o.a)({queryKey:["ads-page"],queryFn:async()=>await (0,i.nj)()}),{push:d}=(0,s.useRouter)();if(r||t)return(0,n.jsx)(c.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:(0,n.jsx)(a.$j,{style:{scale:2.5}})});if(!e||l)return(0,h.bW)("مشکلی پیش آمده.لطفا مجددا تلاش نمایید");let p=e=>"main_page"===e||"planner"===e||"tourmaker"===e||"article_list"===e||"article"===e||"place"===e||"maps"===e?d("/advertizement/".concat(e)):"tours"===e||"planner_trips"===e?d("/advertizement/trip/".concat(e)):d("/advertizement/other/".concat(e));return(0,n.jsxs)(c.kC,{direction:"column",children:[(0,n.jsx)(x.default,{title:"مدیریت تبلیغات",isNavigation:!0}),(0,n.jsx)(c.xu,{p:"24px 110px 40px 40px ",children:(0,n.jsx)(c.rj,{width:"100%",maxWidth:"1920px",mx:"auto",children:(0,n.jsx)(c.rj,{width:"100%",columns:{initial:"1",sm:"2"},gap:"5",children:e.map((e,r)=>(0,n.jsx)(u,{lable:e.label,latestUpdatedAt:e.latestUpdatedAt,space:e.space,type:"main",holder:e.holder,handleRedirectAdsManagment:()=>{p(e.key)}},r))})})})]})}},927:function(e,r,t){"use strict";t.d(r,{_5:function(){return a},nj:function(){return s}});var n=t(31067);let s=async()=>(await n.x.get("/ads/page")).data.data,a=async e=>(await n.x.get("/ads/holder?holder=".concat(e))).data.data},29962:function(e,r,t){"use strict";var n=t(57437);t(2265);var s=t(16463),a=t(89183),o=t(7507),i=t(27533),c=t(1845),l=t(21949);r.default=e=>{let{title:r,isNavigation:t}=e,a=(0,s.useRouter)();return(0,n.jsx)(d,{children:(0,n.jsxs)(p,{children:[(0,n.jsx)(o.xv,{...l.p.title1,style:{color:c.K.gray[11]},children:r}),t&&(0,n.jsx)(o.hU,{size:"3",variant:"surface",onClick:()=>a.back(),children:(0,n.jsx)(i.jb,{color:"#373737"})})]})})};let d=a.ZP.header.withConfig({componentId:"sc-132ec2d4-0"})(["padding:14.5px 100px 14.5px 24px;position:sticky;left:0;right:0;top:0;border-bottom:1px solid ",";background-color:",";box-shadow:",";z-index:10;"],c.K.gray[6],c.K.gray[1],c.i.shadow1),p=(0,a.ZP)(o.kC).withConfig({componentId:"sc-132ec2d4-1"})(["max-width:1920px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;"])},10504:function(e,r,t){"use strict";t.d(r,{l:function(){return a}});var n=t(64673),s=t.n(n);function a(e){return s()(e).locale("fa").format("jYYYY/jMM/jDD")}},31067:function(e,r,t){"use strict";t.d(r,{x:function(){return l},z:function(){return d}});var n=t(16463),s=t(38472),a=t(15263),o=t(86300).Buffer;let i="".concat("bznpanelapi",":").concat("VX+kPbS#@sdD5$"),c=o.from(i).toString("base64"),l=s.Z.create({baseURL:"https://api-admin-dev.darkube.app/v1/",headers:{"up-auth":"Basic ".concat(c),"Content-Type":"application/json"}}),d=s.Z.create({baseURL:"https://uploader.darkube.app/admin/uploads/",headers:{"Content-Type":"application/json","up-auth":"Basic ".concat(c)}});d.interceptors.request.use(e=>{let r=new a.Z().get("token");return r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),l.interceptors.request.use(e=>{let r=new a.Z().get("token");return r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{if(e.response){let r=e.response.status;401===r?console.error("Unauthorized access - perhaps the token has expired"):403===r?console.error("Forbidden - You do not have permission to access this resource."):r>=500?(console.error("Server error - Please try again later."),(0,n.redirect)("/error")):console.error("Error: ".concat(e.response.statusText))}else e.request?(console.error("Network error - the request was made but no response was received"),(0,n.redirect)("/error")):((0,n.redirect)("/error"),console.error("Error:",e.message));return Promise.reject(e)})}},function(e){e.O(0,[1553,3048,5452,8310,6990,1825,8702,9269,783,7507,7533,2971,7023,1744],function(){return e(e.s=59461)}),_N_E=e.O()}]);