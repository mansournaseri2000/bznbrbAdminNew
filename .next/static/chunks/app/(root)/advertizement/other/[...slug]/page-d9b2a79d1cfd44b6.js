(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9251],{50819:function(e,n,s){Promise.resolve().then(s.bind(s,53559))},53559:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return w}});var i=s(57437),t=s(2265),r=s(43767),a=s(36721),l=s(16463),c=s(94963),o=s(93191),d=s(25524),p=s(89216),u=s(7507),y=s(77855),x=s(31072),g=s(1845),h=s(21949),j=s(85977),v=s(71166),m=()=>{let e=(0,l.useParams)(),n=e.slug[0],s=Number(e.slug[1]),a="province_places"===e.slug[0]||"province"===e.slug[0]?"parent":void 0,m=(0,o.NL)(),[b,k]=(0,t.useState)(null),[f,C]=(0,t.useState)({isOpen:!1,key:"create"}),{data:O,isLoading:w,isError:K,isFetching:_}=(0,r.a)({queryKey:["ads-page-type"],queryFn:async()=>await (0,p._5)(n,s,a)}),{mutate:S,isPending:q}=(0,d.D)({mutationFn:async e=>await (0,p.Vl)(e),onSuccess:e=>{e.status?(m.invalidateQueries({queryKey:["ads-page-type"]}),(0,x.xO)("آگهی مورد نظر با موفقیت ایجاد شد"),C({...f,isOpen:!1})):(0,x.bW)("مشکلی پیش آمده است. لطفا مجددا تلاش کنید")}}),{mutate:D,isPending:z}=(0,d.D)({mutationFn:async e=>await (0,p.qo)(e),onSuccess:e=>{e.status?(m.invalidateQueries({queryKey:["ads-page-type"]}),(0,x.xO)("آگهی مورد نظر با موفقیت ویرایش شد"),C({...f,isOpen:!1})):(0,x.bW)("مشکلی پیش آمده است. لطفا مجددا تلاش کنید")}}),{mutate:F,isPending:N}=(0,d.D)({mutationFn:async()=>await (0,p.Di)({id:null==b?void 0:b.id,type:"ADS"}),onSuccess:e=>{e.status?(m.invalidateQueries({queryKey:["ads-page-type"]}),(0,x.xO)("آگهی مورد نظر با موفقیت حذف شد"),C({...f,isOpen:!1})):(0,x.bW)("مشکلی پیش آمده است. لطفا مجددا تلاش کنید")}}),L=e=>{C({key:e,isOpen:!0})},M=()=>{C({isOpen:!0,key:"delete"})};return w||_?(0,i.jsx)(u.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:(0,i.jsx)(c.$j,{style:{scale:2.5}})}):!O||K?(0,x.bW)("مشکلی پیش آمده . لطفا دوباره تلاش نمایید"):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.rj,{gapY:"5",children:0===O.length?(0,i.jsx)(u.kC,{width:"100%",mt:"4",children:(0,i.jsx)(u.X6,{as:"h4",size:"4",style:{color:g.K.gray[11]},children:"در حال حاضر آگهی برای نمایش وجود ندارد."})}):O.map((e,n)=>e&&(0,i.jsx)(j.Z,{onClick:()=>k(e),onDelete:()=>M(),onCreateOrEdit:L,data:e},n))}),(0,i.jsxs)(u.u_,{isOpen:f.isOpen,onClose:()=>C({...f,isOpen:!1}),children:["delete"!==f.key&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z,{title:"create"===f.key?"ثبت آگهی":"ویرایش آگهی",handleClose:()=>C({...f,isOpen:!1})}),(0,i.jsx)(v.Z,{data:b,type:f.key,isOpen:f.isOpen,onClose:()=>C({...f,isOpen:!1}),onSubmit:e=>{let n={alt:e.alt,description:e.description,file:e.imageFile,type:"ADS",sponsor:e.sponsor,website:e.website,socialMedia:e.socialMedia,summery:e.summery,page:e.page,holder:e.holder,..."category"===e.page?{categoryId:e.categoryId}:{provinceId:e.provinceId}};"edit"===f.key&&b?D({id:null==b?void 0:b.id,type:"ADS",alt:n.alt,description:n.description,summery:n.summery,socialMedia:n.socialMedia,sponsor:n.sponsor,website:n.website}):"create"===f.key&&S(n)},isLoading:"create"===f.key?q:z})]}),"delete"===f.key&&(0,i.jsxs)(u.rj,{gapY:"24px",p:"5",children:[(0,i.jsxs)(u.xv,{...h.p.body1,style:{color:g.K.gray[11]},children:["آیا از حذف آگهی ",(0,i.jsx)("span",{style:{fontWeight:"bold",color:"red"},children:null==b?void 0:b.position})," اطمینان دارید؟"]}),(0,i.jsxs)(u.rj,{gap:"10px",columns:"2",children:[(0,i.jsx)(u.zx,{variant:"soft",size:"4",onClick:()=>F(),children:(0,i.jsx)(u.xv,{...h.p.body3,children:N?(0,i.jsx)(c.$j,{}):"بله"})}),(0,i.jsx)(u.zx,{type:"button",onClick:()=>C({...f,isOpen:!1}),variant:"solid",size:"4",children:(0,i.jsx)(u.xv,{...h.p.body3,children:"خیر"})})]})]})]})]})},b=s(43397),k=s(33879),f=()=>{let e=(0,b.tv)(),n=(0,l.useParams)().slug[0],{data:s,isLoading:t,isFetching:a,isError:o}=(0,r.a)({queryKey:["ads-list"],queryFn:async()=>await (0,p.LP)(n)});console.log("ProvinceList",s);let d=e=>"province"===n?"province/".concat(e):"province_places"===n?"province_places/".concat(e):"category"===n?"category/".concat(e):"";return t||a?(0,i.jsx)(u.kC,{width:"100%",height:"90vh",justify:"center",align:"center",children:(0,i.jsx)(c.$j,{style:{scale:2}})}):!s||o?(0,x.bW)("مشکلی پیش آمده است . لطفا مجددا تلاش کنید"):(0,i.jsx)(u.rj,{width:"100%",columns:{initial:"1",sm:"2"},gap:"5",children:s.map((n,s)=>(0,i.jsx)(k.Z,{type:"other",lable:n.label,latestUpdatedAt:n.latestUpdatedAt,space:n.freeSpace,handleRedirectAdsManagment:()=>e.push(d(Number(n.key)))},s))})},C=s(29962),O=s(28232);function w(e){var n,s;let{params:t}=e,l=!0==!!t.slug[1],{data:c}=(0,r.a)({queryKey:["constant"],queryFn:async()=>await (0,a.iV)()}),o=(0,O.L)(Number(t.slug[1]),null!==(n=null==c?void 0:c.provinces)&&void 0!==n?n:[]),d=(0,O.L)(Number(t.slug[1]),null!==(s=null==c?void 0:c.categories)&&void 0!==s?s:[]);return(0,i.jsxs)(u.kC,{direction:"column",children:[(0,i.jsx)(C.Z,{title:"province"===t.slug[0]?l?" تبلیغات استان ها - استان ".concat(o):"تبلیغات صحفه استان ها - لیست استان ها":"province_places"===t.slug[0]?l?"تبلیغات صحفه نقاط استان ها  - استان ".concat(o):"تبلیغات صحفه نقاط استان ها - لیست استان ها":"category"===t.slug[0]?l?"تبلیغات صفحه دسته بندی - ".concat(d):"تبلیغات صفحه دسته بندی":"",isNavigation:!0}),(0,i.jsx)(u.xu,{p:"24px 110px 40px 40px ",children:(0,i.jsx)(u.rj,{width:"100%",maxWidth:"1920px",mx:"auto",children:l?l?(0,i.jsx)(m,{}):"":(0,i.jsx)(f,{})})})]})}},33879:function(e,n,s){"use strict";var i=s(57437),t=s(7507),r=s(10504),a=s(1845),l=s(21949);n.Z=e=>{let{lable:n,latestUpdatedAt:s,space:c,type:o,holder:d,handleRedirectAdsManagment:p,handleRedirectCities:u}=e;return(0,i.jsxs)(t.kC,{p:"16px",justify:"between",style:{border:"1px solid ".concat(a.K.gray[6]),borderRadius:"8px",backgroundColor:a.K.gray[2]},children:[(0,i.jsxs)(t.rj,{gap:"12px",children:[(0,i.jsx)(t.xv,{...l.p.body1,style:{color:a.K.gray[12]},children:n}),(0,i.jsxs)(t.kC,{align:"center",gap:"8px",children:[(0,i.jsx)(t.xv,{...l.p.description2,style:{color:a.K.gray[10]},children:"main"===o?"تعداد تبلیغات":"بنر های خالی"}),(0,i.jsxs)(t.xv,{...l.p.description2,style:{color:a.K.gray[12]},children:[c," عدد"]})]}),(0,i.jsxs)(t.kC,{align:"center",gap:"8px",children:[(0,i.jsx)(t.xv,{...l.p.description2,style:{color:a.K.gray[10]},children:"آخرین ویرایش"}),(0,i.jsx)(t.xv,{...l.p.description2,style:{color:a.K.gray[12]},children:s?(0,r.l)(s):"_"})]})]}),(0,i.jsxs)(t.kC,{direction:"column",justify:"between",align:"end",children:["main"===o&&(0,i.jsx)(t.xv,{...l.p.body1,style:{color:a.K.pink[9],paddingLeft:"4px"},children:d}),"provinces"===o&&(0,i.jsx)(t.zx,{variant:"soft",size:"2",onClick:()=>{u&&u()},children:(0,i.jsx)(t.xv,{...l.p.body3,style:{color:a.K.gray[1]},children:"شهرستان ها"})}),(0,i.jsx)(t.zx,{variant:"solid",size:"2",style:{marginBlockStart:"auto"},onClick:()=>{p&&p()},children:(0,i.jsx)(t.xv,{...l.p.body3,style:{color:a.K.blue[12]},children:"مدیریت تبلیغات"})})]})]})}},28232:function(e,n,s){"use strict";s.d(n,{L:function(){return t}});var i=s(2265);function t(e,n){return(0,i.useMemo)(()=>{if(!e||!(null==n?void 0:n.length))return"";let s=n.find(n=>n.id===e);return s?s.name:""},[e,n])}},10504:function(e,n,s){"use strict";s.d(n,{l:function(){return r}});var i=s(64673),t=s.n(i);function r(e){return t()(e).locale("fa").format("jYYYY/jMM/jDD")}}},function(e){e.O(0,[1553,3048,5452,8310,6990,1825,8702,3397,9269,6648,783,2107,7507,2336,1329,2971,7023,1744],function(){return e(e.s=50819)}),_N_E=e.O()}]);