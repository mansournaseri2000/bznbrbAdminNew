"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{89216:function(e,t,i){i.d(t,{Di:function(){return d},LP:function(){return c},Vl:function(){return o},_5:function(){return a},mV:function(){return p},nj:function(){return l},qo:function(){return s}});var r=i(10008),n=i(31067);let l=async()=>(await n.x.get("/ads/page")).data.data,a=async(e,t,i)=>(await n.x.get("/ads/holder?holder=".concat(e,"&id=").concat(t,"&type=").concat(i))).data.data,o=async e=>{let t=new FormData;return Object.entries({type:e.type,description:e.description,page:e.page,holder:e.holder,alt:e.alt,summery:e.summery,website:e.website,socialMedia:e.socialMedia,sponsor:e.sponsor}).forEach(e=>{let[i,r]=e;r&&t.append(i,r.toString())}),t.append("file",e.file),Object.entries({provinceId:e.provinceId,cityId:e.cityId,townId:e.townId,categoryId:e.categoryId}).forEach(e=>{let[i,r]=e;null!=r&&t.append(i,r.toString())}),(await r.pN.post("admin/uploads/image",t,{headers:{"Content-Type":"multipart/form-data"}})).data},s=async e=>(await n.x.patch("/upload/edit",e)).data,d=async e=>(await n.x.delete("/upload/",{data:e})).data,c=async e=>(await n.x.get("/ads/page?pageKey=".concat(e))).data.data,p=async e=>(await n.x.get("/ads/page?pageKey=province&id=".concat(e))).data.data},85977:function(e,t,i){var r=i(57437),n=i(66648),l=i(4867),a=i(7507),o=i(19051),s=i(1845),d=i(21949);t.Z=e=>{var t,i;let{data:c,onCreateOrEdit:p,onDelete:u,onClick:x}=e;return(0,r.jsxs)(r.Fragment,{children:[!(null==c?void 0:c.path)&&(0,r.jsxs)(a.kC,{align:"center",position:"relative",minHeight:"200px",p:"16px",justify:"center",style:{borderRadius:"8px",border:"1px dashed ".concat(s.K.blue[9])},children:[(0,r.jsx)(a.xv,{style:{position:"absolute",color:s.K.gray[8],right:"20px",fontSize:"90px"},children:null==c?void 0:c.position}),(0,r.jsxs)(a.kC,{gap:"4px",align:"center",onClick:()=>{p("create"),x()},style:{cursor:"pointer"},children:[(0,r.jsx)(l.pOD,{stroke:s.K.blue[7]}),(0,r.jsx)(a.xv,{...d.p.body1,style:{color:s.K.blue[11]},children:"افزودن آگهی"})]})]}),!!(null==c?void 0:c.path)&&(0,r.jsxs)(a.rj,{onClick:x,p:"16px",style:{borderRadius:"8px",border:"1px solid ".concat(s.K.gray[6])},children:[(0,r.jsxs)(a.kC,{width:"100%",align:"center",justify:"between",children:[(0,r.jsx)(a.X6,{style:{color:s.K.gray[11],fontSize:"32px",fontWeight:500,lineHeight:"37.5px"},children:c.position}),(0,r.jsxs)(a.kC,{align:"center",gap:"4",children:[(0,r.jsx)(a.hU,{size:"3",onClick:()=>{p("edit")},children:(0,r.jsx)(o.z,{})}),(0,r.jsx)(a.hU,{size:"3",variant:"surface",onClick:u,children:(0,r.jsx)(o.rF,{})})]})]}),(0,r.jsxs)(a.kC,{width:"100%",gap:"10px",children:[(0,r.jsx)(a.xu,{width:"400px",height:"200px",position:"relative",children:(0,r.jsx)(n.default,{src:"".concat("https://uploader.bezanimbiroon.ir/").concat(c.path),alt:String(null==c?void 0:c.alt),fill:!0,style:{borderRadius:8,objectFit:"cover",objectPosition:"center"}})}),(0,r.jsxs)(a.kC,{width:"77.5%",direction:"column",mt:"2",style:{justifyContent:"space-between"},children:[(0,r.jsxs)(a.kC,{direction:"column",gap:"3",children:[(0,r.jsx)(a.nv,{placeholder:"متن چایگزین",readOnly:!0,value:null!==(t=c.alt)&&void 0!==t?t:"",style:{borderRadius:12}}),(0,r.jsx)(a.Kx,{placeholder:"توضیحات تصویر",readOnly:!0,value:null!==(i=c.description)&&void 0!==i?i:"",style:{borderRadius:12}})]}),c.path&&(0,r.jsxs)(a.kC,{p:"12px 16px",gap:"2",align:"center",children:[(0,r.jsx)(a.hU,{variant:"surface",size:"1",children:(0,r.jsx)(l.TIy,{style:{color:s.K.blue[10]}})}),(0,r.jsx)(a.xv,{...d.p.body3,style:{color:s.K.blue[11]},children:c.path})]})]})]})]})]})}},71166:function(e,t,i){var r=i(57437),n=i(2265),l=i(38746),a=i(39343),o=i(66648),s=i(72107),d=i(7507),c=i(72549),p=i(19051),u=i(1845),x=i(21949);t.Z=e=>{let{type:t,data:i,onClose:h,onSubmit:g,isLoading:j}=e,{setValue:y,watch:v,control:b}=(0,a.cI)({defaultValues:{alt:"edit"===t?i.alt:"",description:"edit"===t?i.description:"",imageFile:"edit"===t?i.path:null,isReset:!0,localPic:"",summery:"edit"===t?i.summery:"",website:"edit"===t?i.website:"",socialMedia:"edit"===t?i.socialMedia:"",sponsor:"edit"===t?i.sponsor:"",page:i.page,holder:i.position,townId:i.townId,provinceId:i.provincesId,cityId:i.cityId,categoryId:i.categoryId}});(0,n.useEffect)(()=>{y("imageFile","edit"===t?i.path:null),y("description","edit"===t?i.description:""),y("alt","edit"===t?i.alt:""),y("summery","edit"===t?i.summery:""),y("website","edit"===t?i.website:""),y("socialMedia","edit"===t?i.socialMedia:""),y("sponsor","edit"===t?i.sponsor:""),y("isReset",!0)},[t]);let m=async e=>{if("image/svg+xml"===e.type)return e;try{return await (0,s.Z)(e,{maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0})}catch(t){return console.error("Image compression error:",t),e}},f=async(e,t)=>{if(e&&e[0]){let i=e[0],r=await m(i);t(URL.createObjectURL(r)),y("localPic",URL.createObjectURL(r)),y("isReset",!1),y("imageFile",r)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.rj,{minHeight:"286px",p:"4",gapY:"5",children:!1==!!(null==i?void 0:i.path)&&!1==!!v("localPic")?(0,r.jsx)(a.Qr,{name:"imageFile",control:b,render:e=>{let{field:t}=e;return(0,r.jsx)(d.kC,{width:"max-content",position:"relative",direction:"column",children:(0,r.jsx)(l.ZP,{onDrop:e=>{f(e,t.onChange)},accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/svg+xml":[".svg"]},children:e=>{let{getRootProps:t,getInputProps:i}=e;return(0,r.jsxs)("div",{...t(),children:[(0,r.jsx)("input",{type:"file",...i()}),(0,r.jsx)(d.kC,{gap:"2",justify:"center",direction:"column",align:"center",children:(0,r.jsx)(d.zx,{size:"3",type:"button",style:{width:"fit-content"},children:(0,r.jsxs)(d.kC,{align:"center",gap:"2",children:[(0,r.jsx)(p.V1,{}),(0,r.jsx)(d.xv,{...x.p.body1,children:"ارسال تصویر"})]})})})]})}})})}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.xu,{width:"538px",height:"350px",position:"relative",style:{borderRadius:8,border:"1px solid ".concat(u.K.gray[3])},children:["create"===t&&(0,r.jsx)(d.kC,{width:"30px",height:"30px",justify:"center",align:"center",style:{cursor:"pointer",position:"absolute",backgroundColor:u.K.gray[3],borderRadius:"4px",border:"1px solid ".concat(u.K.pink[9]),zIndex:"10"},left:"0",top:"0",children:(0,r.jsx)(a.Qr,{name:"localPic",control:b,render:e=>{let{field:t}=e;return(0,r.jsx)(d.kC,{width:"max-content",position:"relative",direction:"column",children:(0,r.jsx)(l.ZP,{onDrop:e=>{f(e,t.onChange)},accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/svg+xml":[".svg"]},children:e=>{let{getRootProps:t,getInputProps:i}=e;return(0,r.jsxs)("div",{...t(),children:[(0,r.jsx)("input",{type:"file",...i()}),(0,r.jsx)(d.kC,{gap:"2",justify:"center",direction:"column",align:"center",children:(0,r.jsx)(p.rF,{})})]})}})})}})}),(0,r.jsx)(o.default,{src:v("isReset")?"".concat("https://uploader.bezanimbiroon.ir/").concat(null==i?void 0:i.path):v("localPic"),alt:"ugliglhglk",fill:!0,style:{borderRadius:8,objectFit:"fill"}})]}),(0,r.jsxs)(d.rj,{width:"100%",gap:"5",columns:"3",children:[(0,r.jsx)(a.Qr,{name:"sponsor",control:b,render:e=>{var t;let{field:i}=e;return(0,r.jsx)(d.nv,{...i,label:"نام اسپانسر",placeholder:"نام اسپانسر",selectedValue:!!i.value,value:null!==(t=i.value)&&void 0!==t?t:""})}}),(0,r.jsx)(a.Qr,{name:"website",control:b,render:e=>{var t;let{field:i}=e;return(0,r.jsx)(d.nv,{...i,label:"سایت",placeholder:"سایت",selectedValue:!!i.value,value:null!==(t=i.value)&&void 0!==t?t:""})}}),(0,r.jsx)(a.Qr,{name:"socialMedia",control:b,render:e=>{var t;let{field:i}=e;return(0,r.jsx)(d.nv,{...i,label:"شبکه اجتماعی",placeholder:"شبکه اجتماعی",selectedValue:!!i.value,value:null!==(t=i.value)&&void 0!==t?t:""})}})]}),(0,r.jsx)(a.Qr,{name:"alt",control:b,render:e=>{var t;let{field:i}=e;return(0,r.jsx)(d.nv,{...i,label:"متن جایگزین",placeholder:"متن جایگزین",selectedValue:!!i.value,value:null!==(t=i.value)&&void 0!==t?t:""})}}),(0,r.jsx)(a.Qr,{name:"description",control:b,render:e=>{var t;let{field:i}=e;return(0,r.jsx)(d.Kx,{...i,label:"توضیحات تصویر",placeholder:"توضیحات تصویر",selectedValue:!!i.value,rows:6,value:null!==(t=i.value)&&void 0!==t?t:""})}}),(0,r.jsx)(a.Qr,{name:"summery",control:b,render:e=>{var t;let{field:i}=e;return(0,r.jsx)(d.Kx,{...i,label:"شرح مختصر",placeholder:"شزح مختصر",selectedValue:!!i.value,rows:6,value:null!==(t=i.value)&&void 0!==t?t:""})}})]})}),(0,r.jsx)(c.Z,{submitButtonText:"ثبت و ارسال",closeButtonText:"لفو و بازگشت",isDisableSubmitBtn:!1,isSubmit:!1,onSubmit:()=>{g(v())},onCloseButton:h,isLoading:j})]})}},72549:function(e,t,i){var r=i(57437);i(2265);var n=i(94963),l=i(1845),a=i(21949),o=i(7507);t.Z=e=>{let{isSubmit:t=!0,closeButtonText:i,submitButtonText:s,isLoading:d,onCloseButton:c,onSubmit:p,isDisableSubmitBtn:u=!1,disabled:x=!1}=e;return(0,r.jsx)(o.kC,{height:"max-content",gap:"16px",left:"0",p:"16px",right:"0",style:{backgroundColor:l.K.gray[2],marginBlockStart:"auto",borderTop:"1px solid ".concat(l.K.gray[3]),boxShadow:l.i.shadow1,borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px"},position:"sticky",bottom:"0px",children:(0,r.jsxs)(o.rj,{gap:"16px",columns:"2",children:[(0,r.jsx)(o.zx,{disabled:u||x,onClick:p,type:t?"submit":"button",variant:"soft",size:"3",style:{width:"fit-content",padding:"9.5px 38px"},children:d?(0,r.jsx)(n.$j,{}):(0,r.jsx)(o.xv,{...a.p.body1,children:s})}),(0,r.jsx)(o.zx,{type:"button",colorVariant:"PINK",size:"3",onClick:c,style:{width:"fit-content",padding:"9.5px 38px"},children:(0,r.jsx)(o.xv,{...a.p.body1,children:i})})]})})}},77855:function(e,t,i){var r=i(57437);i(2265);var n=i(89183),l=i(19051),a=i(1845),o=i(21949),s=i(7507);t.Z=e=>{let{handleClose:t,title:i}=e;return(0,r.jsxs)(d,{position:"sticky",top:"0",p:"8px 16px",justify:"between",style:{backgroundColor:a.K.blue[10],zIndex:"100"},align:"center",children:[(0,r.jsx)(s.xv,{...o.p.title2,style:{color:a.K.gray[1],fontWeight:700},children:i}),(0,r.jsx)(s.hU,{type:"button",onClick:t,variant:"soft",size:"2",style:{backgroundColor:a.K.blue[9],borderRadius:"12px"},children:(0,r.jsx)(l.x8,{})})]})};let d=(0,n.zo)(s.kC).withConfig({componentId:"sc-38bd6e22-0"})(["border-top-right-radius:8px;border-top-left-radius:8px;"])}}]);