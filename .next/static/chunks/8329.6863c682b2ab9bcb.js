(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8329],{88329:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return y}});var r=e(57437),o=e(70707),l=e(26761),i=e(13473),u=e(10670),a=e(77691),c=e.n(a);let s=(0,l.Au)(function({positions:n,...t},e){let r=new a.Polyline(n,t);return(0,i.O)(r,(0,u.sj)(e,{overlayContainer:r}))},function(n,t,e){t.positions!==e.positions&&n.setLatLngs(t.positions)});var p=e(55393),f=e(16429),d=e(48977),g=e(94963);e(60966);var m=e(89183),h=e(1845),b=e(2265),v=n=>{let{locations:t}=n,e=(0,u.mE)().map;return(0,b.useEffect)(()=>{if(1===t.length){let n=t[0],r=parseFloat(String(n.lat)),o=parseFloat(String(n.lng));isNaN(r)||isNaN(o)?console.error("Invalid LatLng for single location:",{lat:r,lng:o}):e.setView([r,o],15,{animate:!0})}else if(t.length>1){let n=t.map(n=>{let t=parseFloat(String(n.lat)),e=parseFloat(String(n.lng));return isNaN(t)||isNaN(e)?(console.error("Invalid LatLng for location:",{lat:t,lng:e}),null):[t,e]}).filter(n=>null!==n);if(n.length>0)try{let t=c().latLngBounds(n);t.isValid()?e.flyToBounds(t,{animate:!0,duration:1}):console.error("Invalid bounds detected, skipping flyToBounds")}catch(n){console.error("Error calculating bounds:",n)}else console.error("No valid locations to create bounds.")}},[t,e]),null},x=e(23876);delete c().Icon.Default.prototype._getIconUrl,c().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});var y=n=>{let{locations:t,center:e,isEmpty:l}=n,i=l?[]:t.map(n=>[Number(n.lat),Number(n.lng)]);return(0,r.jsx)(r.Fragment,{children:!0===l?(0,r.jsx)(w,{center:t,zoom:15,minZoom:1,maxZoom:50,scrollWheelZoom:!1,doubleClickZoom:!1,attributionControl:!1,style:{height:"100%",width:"100%",borderRadius:"8px",zIndex:1},children:(0,r.jsx)(o.I,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"})}):(0,r.jsxs)(w,{center:e,zoom:15,minZoom:1,maxZoom:50,scrollWheelZoom:!1,doubleClickZoom:!1,attributionControl:!1,style:{height:"100%",width:"100%",borderRadius:"8px",zIndex:1},children:[(0,r.jsx)(o.I,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),(0,r.jsx)(s,{positions:i,color:"#0DAFFC",weight:3,opacity:.6}),t.map((n,t)=>{var e;return(0,r.jsx)(p.J,{position:n.lat&&n.lng?[Number(n.lat),Number(n.lng)]:[0,0],icon:c().divIcon({html:'\n              <div style="position: relative; display: inline-block;">\n                <img src="https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png" \n                     style="display: block;" />\n                <div style="position: absolute; top: -25px; left: 48%; transform: translateX(-50%);\n                            background-color: white; border-radius: 50%; width: 20px; height: 20px;\n                            display: flex; justify-content: center; align-items: center;\n                            font-size: 12px; font-weight: bold; color: black; border: 1px solid black;">\n                  '.concat(t+1,"\n                </div>\n              </div>"),className:"",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]}),children:(0,r.jsx)(f.G,{children:(0,r.jsx)(g.Q2,{style:{direction:"rtl"},children:(0,r.jsx)(x.Z,{description:null==n?void 0:n.description,imageUrl:n.pic?null==n?void 0:null===(e=n.pic[0])||void 0===e?void 0:e.path:"",lat:n.lat?null==n?void 0:n.lat:0,lng:n.lng?null==n?void 0:n.lng:0,title:null==n?void 0:n.title,id:null==n?void 0:n.point_id},t)})})},t)}),(0,r.jsx)(v,{locations:t})]})})};let w=(0,m.ZP)(d.h).withConfig({componentId:"sc-a23c140-0"})(["position:absolute;inset:0;height:100%;box-shadow:",";border:1px solid ",";& .leaflet-popup-close-button{display:none;}& .leaflet-popup-content-wrapper{width:max-content;}"],h.i.shadow1,h.K.gray[4])},23876:function(n,t,e){"use strict";var r=e(57437),o=e(66648),l=e(89183),i=e(96396),u=e(40722),a=e(1845),c=e(21949);t.Z=n=>{let{description:t,imageUrl:e,lat:l,lng:u,title:p,id:f}=n,d=(n,t)=>{let e="https://www.google.com/maps?q=".concat(n,",").concat(t);window.open(e,"_blank")},g=n=>{window.open("https://bezanimbiroon.ir/place/".concat(n),"_blank")};return(0,r.jsxs)(i.rj,{gap:"16px",children:[(0,r.jsxs)(i.kC,{gap:"8px",align:"center",children:[(0,r.jsx)(o.default,{style:{borderRadius:"10px"},alt:"map-image",width:60,height:60,priority:!0,src:"".concat("https://uploader.darkube.app/").concat(e)}),(0,r.jsx)(i.xv,{...c.p.title2,style:{color:a.K.gray[11]},children:p})]}),(0,r.jsx)("p",{dangerouslySetInnerHTML:{__html:"".concat(t.substring(0,100),"...")},style:{color:a.K.gray[11],margin:0,direction:"rtl",textAlign:"right"}}),(0,r.jsxs)(i.kC,{align:"center",gap:"16px",children:[(0,r.jsx)(i.hU,{onClick:()=>d(l,u),style:{backgroundColor:a.K.blue[9],borderRadius:"12px",cursor:"pointer"},variant:"solid",size:"3",children:(0,r.jsx)(s,{})}),(0,r.jsx)(i.kC,{style:{flex:1},children:(0,r.jsx)(i.zx,{type:"button",onClick:()=>g(f),style:{width:"100%"},size:"3",variant:"solid",children:(0,r.jsx)(i.xv,{...c.p.body3,style:{color:a.K.blue[11]},children:"اطلاعات بیشتر"})})})]})]})};let s=(0,l.ZP)(u.W_).withConfig({componentId:"sc-1890ad5d-0"})(["path{fill:",";stroke:#fff;stroke-width:1.7px;scale:0.7;}"],a.K.blue[11])},60966:function(){},10670:function(n,t,e){"use strict";e.d(t,{Hb:function(){return o},UO:function(){return u},mE:function(){return a},sj:function(){return l}});var r=e(2265);function o(n){return Object.freeze({__version:1,map:n})}function l(n,t){return Object.freeze({...n,...t})}let i=(0,r.createContext)(null),u=i.Provider;function a(){let n=(0,r.useContext)(i);if(null==n)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}},13473:function(n,t,e){"use strict";e.d(t,{I:function(){return l},O:function(){return o}});var r=e(2265);function o(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function l(n,t){return null==t?function(t,e){let o=(0,r.useRef)();return o.current||(o.current=n(t,e)),o}:function(e,o){let l=(0,r.useRef)();l.current||(l.current=n(e,o));let i=(0,r.useRef)(e),{instance:u}=l.current;return(0,r.useEffect)(function(){i.current!==e&&(t(u,e,i.current),i.current=e)},[u,e,o]),l}}},26761:function(n,t,e){"use strict";e.d(t,{dW:function(){return d},SO:function(){return g},Au:function(){return m},Lf:function(){return h}});var r=e(2265),o=e(54887),l=e(10670);function i(n){return(0,r.forwardRef)(function(t,e){let{instance:o,context:i}=n(t).current;return(0,r.useImperativeHandle)(e,()=>o),null==t.children?null:r.createElement(l.UO,{value:i},t.children)})}var u=e(13473);function a(n,t){let e=(0,r.useRef)(t);(0,r.useEffect)(function(){t!==e.current&&null!=n.attributionControl&&(null!=e.current&&n.attributionControl.removeAttribution(e.current),null!=t&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}function c(n,t){let e=(0,r.useRef)();(0,r.useEffect)(function(){return null!=t&&n.instance.on(t),e.current=t,function(){null!=e.current&&n.instance.off(e.current),e.current=null}},[n,t])}var s=e(37129);function p(n,t){(0,r.useEffect)(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function f(n){return function(t){let e=(0,l.mE)(),r=n((0,s.q)(t,e),e);return a(e.map,t.attribution),c(r.current,t.eventHandlers),p(r.current,e),r}}function d(n,t){return i(f((0,u.I)(n,t)))}function g(n,t){var e,i;return e=(0,u.I)(n),i=function(n,r){let o=(0,l.mE)(),i=e((0,s.q)(n,o),o);return a(o.map,n.attribution),c(i.current,n.eventHandlers),t(i.current,o,n,r),i},(0,r.forwardRef)(function(n,t){let[e,l]=(0,r.useState)(!1),{instance:u}=i(n,l).current;(0,r.useImperativeHandle)(t,()=>u),(0,r.useEffect)(function(){e&&u.update()},[u,e,n.children]);let a=u._contentNode;return a?(0,o.createPortal)(n.children,a):null})}function m(n,t){var e;return i((e=(0,u.I)(n,t),function(n){let t=(0,l.mE)(),o=e((0,s.q)(n,t),t);return c(o.current,n.eventHandlers),p(o.current,t),function(n,t){let e=(0,r.useRef)();(0,r.useEffect)(function(){if(t.pathOptions!==e.current){let r=t.pathOptions??{};n.instance.setStyle(r),e.current=r}},[n,t])}(o.current,n),o}))}function h(n,t){var e;return e=f((0,u.I)(n,t)),(0,r.forwardRef)(function(n,t){let{instance:o}=e(n).current;return(0,r.useImperativeHandle)(t,()=>o),null})}},37129:function(n,t,e){"use strict";function r(n,t){let e=n.pane??t.pane;return e?{...n,pane:e}:n}e.d(t,{q:function(){return r}})},48977:function(n,t,e){"use strict";e.d(t,{h:function(){return u}});var r=e(10670),o=e(77691),l=e(2265);function i(){return(i=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}let u=(0,l.forwardRef)(function({bounds:n,boundsOptions:t,center:e,children:u,className:a,id:c,placeholder:s,style:p,whenReady:f,zoom:d,...g},m){let[h]=(0,l.useState)({className:a,id:c,style:p}),[b,v]=(0,l.useState)(null);(0,l.useImperativeHandle)(m,()=>b?.map??null,[b]);let x=(0,l.useCallback)(l=>{if(null!==l&&null===b){let i=new o.Map(l,g);null!=e&&null!=d?i.setView(e,d):null!=n&&i.fitBounds(n,t),null!=f&&i.whenReady(f),v((0,r.Hb)(i))}},[]);(0,l.useEffect)(()=>()=>{b?.map.remove()},[b]);let y=b?l.createElement(r.UO,{value:b},u):s??null;return l.createElement("div",i({},h,{ref:x}),y)})},55393:function(n,t,e){"use strict";e.d(t,{J:function(){return u}});var r=e(26761),o=e(13473),l=e(10670),i=e(77691);let u=(0,r.dW)(function({position:n,...t},e){let r=new i.Marker(n,t);return(0,o.O)(r,(0,l.sj)(e,{overlayContainer:r}))},function(n,t,e){t.position!==e.position&&n.setLatLng(t.position),null!=t.icon&&t.icon!==e.icon&&n.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==e.zIndexOffset&&n.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==e.opacity&&n.setOpacity(t.opacity),null!=n.dragging&&t.draggable!==e.draggable&&(!0===t.draggable?n.dragging.enable():n.dragging.disable())})},16429:function(n,t,e){"use strict";e.d(t,{G:function(){return u}});var r=e(26761),o=e(13473),l=e(77691),i=e(2265);let u=(0,r.SO)(function(n,t){let e=new l.Popup(n,t.overlayContainer);return(0,o.O)(e,t)},function(n,t,{position:e},r){(0,i.useEffect)(function(){let{instance:o}=n;function l(n){n.popup===o&&(o.update(),r(!0))}function i(n){n.popup===o&&r(!1)}return t.map.on({popupopen:l,popupclose:i}),null==t.overlayContainer?(null!=e&&o.setLatLng(e),o.openOn(t.map)):t.overlayContainer.bindPopup(o),function(){t.map.off({popupopen:l,popupclose:i}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(o)}},[n,t,r,e])})},70707:function(n,t,e){"use strict";e.d(t,{I:function(){return u}});var r=e(26761),o=e(37129),l=e(13473),i=e(77691);let u=(0,r.Lf)(function({url:n,...t},e){let r=new i.TileLayer(n,(0,o.q)(t,e));return(0,l.O)(r,e)},function(n,t,e){!function(n,t,e){let{opacity:r,zIndex:o}=t;null!=r&&r!==e.opacity&&n.setOpacity(r),null!=o&&o!==e.zIndex&&n.setZIndex(o)}(n,t,e);let{url:r}=t;null!=r&&r!==e.url&&n.setUrl(r)})}}]);