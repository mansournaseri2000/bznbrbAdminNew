(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1329],{72431:function(){},89216:function(e,t,r){"use strict";r.d(t,{Di:function(){return c},LP:function(){return d},Vl:function(){return s},_5:function(){return a},mV:function(){return p},nj:function(){return o},qo:function(){return l}});var i=r(10008),n=r(31067);let o=async()=>(await n.x.get("/ads/page")).data.data,a=async(e,t,r)=>(await n.x.get("/ads/holder?holder=".concat(e,"&id=").concat(t,"&type=").concat(r))).data.data,s=async e=>{let t=new FormData;return Object.entries({type:e.type,description:e.description,page:e.page,holder:e.holder,alt:e.alt,summery:e.summery,website:e.website,socialMedia:e.socialMedia,sponsor:e.sponsor}).forEach(e=>{let[r,i]=e;i&&t.append(r,i.toString())}),t.append("file",e.file),Object.entries({provinceId:e.provinceId,cityId:e.cityId,townId:e.townId,categoryId:e.categoryId}).forEach(e=>{let[r,i]=e;null!=i&&t.append(r,i.toString())}),(await i.pN.post("admin/uploads/image",t,{headers:{"Content-Type":"multipart/form-data"}})).data},l=async e=>(await n.x.patch("/upload/edit",e)).data,c=async e=>(await n.x.delete("/upload/",{data:e})).data,d=async e=>(await n.x.get("/ads/page?pageKey=".concat(e))).data.data,p=async e=>(await n.x.get("/ads/page?pageKey=province&id=".concat(e))).data.data},85977:function(e,t,r){"use strict";var i=r(57437),n=r(66648),o=r(4867),a=r(7507),s=r(82336),l=r(1845),c=r(21949);t.Z=e=>{var t,r;let{data:d,onCreateOrEdit:p,onDelete:u,onClick:x}=e;return(0,i.jsxs)(i.Fragment,{children:[!(null==d?void 0:d.path)&&(0,i.jsxs)(a.kC,{align:"center",position:"relative",minHeight:"200px",p:"16px",justify:"center",style:{borderRadius:"8px",border:"1px dashed ".concat(l.K.blue[9])},children:[(0,i.jsx)(a.xv,{style:{position:"absolute",color:l.K.gray[8],right:"20px",fontSize:"90px"},children:null==d?void 0:d.position}),(0,i.jsxs)(a.kC,{gap:"4px",align:"center",onClick:()=>{p("create"),x()},style:{cursor:"pointer"},children:[(0,i.jsx)(o.pOD,{stroke:l.K.blue[7]}),(0,i.jsx)(a.xv,{...c.p.body1,style:{color:l.K.blue[11]},children:"افزودن آگهی"})]})]}),!!(null==d?void 0:d.path)&&(0,i.jsxs)(a.rj,{onClick:x,p:"16px",style:{borderRadius:"8px",border:"1px solid ".concat(l.K.gray[6])},children:[(0,i.jsxs)(a.kC,{width:"100%",align:"center",justify:"between",children:[(0,i.jsx)(a.X6,{style:{color:l.K.gray[11],fontSize:"32px",fontWeight:500,lineHeight:"37.5px"},children:d.position}),(0,i.jsxs)(a.kC,{align:"center",gap:"4",children:[(0,i.jsx)(a.hU,{size:"3",onClick:()=>{p("edit")},children:(0,i.jsx)(s.z,{})}),(0,i.jsx)(a.hU,{size:"3",variant:"surface",onClick:u,children:(0,i.jsx)(s.rF,{})})]})]}),(0,i.jsxs)(a.kC,{width:"100%",gap:"10px",children:[(0,i.jsx)(a.xu,{width:"400px",height:"200px",position:"relative",children:(0,i.jsx)(n.default,{src:"".concat("https://uploader.bezanimbiroon.ir/").concat(d.path),alt:String(null==d?void 0:d.alt),fill:!0,style:{borderRadius:8,objectFit:"cover",objectPosition:"center"}})}),(0,i.jsxs)(a.kC,{width:"77.5%",direction:"column",mt:"2",style:{justifyContent:"space-between"},children:[(0,i.jsxs)(a.kC,{direction:"column",gap:"3",children:[(0,i.jsx)(a.nv,{placeholder:"متن چایگزین",readOnly:!0,value:null!==(t=d.alt)&&void 0!==t?t:"",style:{borderRadius:12}}),(0,i.jsx)(a.Kx,{placeholder:"توضیحات تصویر",readOnly:!0,value:null!==(r=d.description)&&void 0!==r?r:"",style:{borderRadius:12}})]}),d.path&&(0,i.jsxs)(a.kC,{p:"12px 16px",gap:"2",align:"center",children:[(0,i.jsx)(a.hU,{variant:"surface",size:"1",children:(0,i.jsx)(o.TIy,{style:{color:l.K.blue[10]}})}),(0,i.jsx)(a.xv,{...c.p.body3,style:{color:l.K.blue[11]},children:d.path})]})]})]})]})]})}},71166:function(e,t,r){"use strict";var i=r(57437),n=r(2265),o=r(38746),a=r(39343),s=r(66648),l=r(72107),c=r(7507),d=r(72549),p=r(82336),u=r(1845),x=r(21949);t.Z=e=>{let{type:t,data:r,onClose:h,onSubmit:g,isLoading:j}=e,{setValue:b,watch:y,control:v}=(0,a.cI)({defaultValues:{alt:"edit"===t?r.alt:"",description:"edit"===t?r.description:"",imageFile:"edit"===t?r.path:null,isReset:!0,localPic:"",summery:"edit"===t?r.summery:"",website:"edit"===t?r.website:"",socialMedia:"edit"===t?r.socialMedia:"",sponsor:"edit"===t?r.sponsor:"",page:r.page,holder:r.position,townId:r.townId,provinceId:r.provincesId,cityId:r.cityId,categoryId:r.categoryId}});(0,n.useEffect)(()=>{b("imageFile","edit"===t?r.path:null),b("description","edit"===t?r.description:""),b("alt","edit"===t?r.alt:""),b("summery","edit"===t?r.summery:""),b("website","edit"===t?r.website:""),b("socialMedia","edit"===t?r.socialMedia:""),b("sponsor","edit"===t?r.sponsor:""),b("isReset",!0)},[t]);let m=async e=>{if("image/svg+xml"===e.type)return e;try{return await (0,l.Z)(e,{maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0})}catch(t){return console.error("Image compression error:",t),e}},f=async(e,t)=>{if(e&&e[0]){let r=e[0],i=await m(r);t(URL.createObjectURL(i)),b("localPic",URL.createObjectURL(i)),b("isReset",!1),b("imageFile",i)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.rj,{minHeight:"286px",p:"4",gapY:"5",children:!1==!!(null==r?void 0:r.path)&&!1==!!y("localPic")?(0,i.jsx)(a.Qr,{name:"imageFile",control:v,render:e=>{let{field:t}=e;return(0,i.jsx)(c.kC,{width:"max-content",position:"relative",direction:"column",children:(0,i.jsx)(o.ZP,{onDrop:e=>{f(e,t.onChange)},accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/svg+xml":[".svg"]},children:e=>{let{getRootProps:t,getInputProps:r}=e;return(0,i.jsxs)("div",{...t(),children:[(0,i.jsx)("input",{type:"file",...r()}),(0,i.jsx)(c.kC,{gap:"2",justify:"center",direction:"column",align:"center",children:(0,i.jsx)(c.zx,{size:"3",type:"button",style:{width:"fit-content"},children:(0,i.jsxs)(c.kC,{align:"center",gap:"2",children:[(0,i.jsx)(p.V1,{}),(0,i.jsx)(c.xv,{...x.p.body1,children:"ارسال تصویر"})]})})})]})}})})}}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.xu,{width:"538px",height:"350px",position:"relative",style:{borderRadius:8,border:"1px solid ".concat(u.K.gray[3])},children:["create"===t&&(0,i.jsx)(c.kC,{width:"30px",height:"30px",justify:"center",align:"center",style:{cursor:"pointer",position:"absolute",backgroundColor:u.K.gray[3],borderRadius:"4px",border:"1px solid ".concat(u.K.pink[9]),zIndex:"10"},left:"0",top:"0",children:(0,i.jsx)(a.Qr,{name:"localPic",control:v,render:e=>{let{field:t}=e;return(0,i.jsx)(c.kC,{width:"max-content",position:"relative",direction:"column",children:(0,i.jsx)(o.ZP,{onDrop:e=>{f(e,t.onChange)},accept:{"image/jpeg":[".jpeg",".jpg"],"image/png":[".png"],"image/svg+xml":[".svg"]},children:e=>{let{getRootProps:t,getInputProps:r}=e;return(0,i.jsxs)("div",{...t(),children:[(0,i.jsx)("input",{type:"file",...r()}),(0,i.jsx)(c.kC,{gap:"2",justify:"center",direction:"column",align:"center",children:(0,i.jsx)(p.rF,{})})]})}})})}})}),(0,i.jsx)(s.default,{src:y("isReset")?"".concat("https://uploader.bezanimbiroon.ir/").concat(null==r?void 0:r.path):y("localPic"),alt:"ugliglhglk",fill:!0,style:{borderRadius:8,objectFit:"fill"}})]}),(0,i.jsxs)(c.rj,{width:"100%",gap:"5",columns:"3",children:[(0,i.jsx)(a.Qr,{name:"sponsor",control:v,render:e=>{var t;let{field:r}=e;return(0,i.jsx)(c.nv,{...r,label:"نام اسپانسر",placeholder:"نام اسپانسر",selectedValue:!!r.value,value:null!==(t=r.value)&&void 0!==t?t:""})}}),(0,i.jsx)(a.Qr,{name:"website",control:v,render:e=>{var t;let{field:r}=e;return(0,i.jsx)(c.nv,{...r,label:"سایت",placeholder:"سایت",selectedValue:!!r.value,value:null!==(t=r.value)&&void 0!==t?t:""})}}),(0,i.jsx)(a.Qr,{name:"socialMedia",control:v,render:e=>{var t;let{field:r}=e;return(0,i.jsx)(c.nv,{...r,label:"شبکه اجتماعی",placeholder:"شبکه اجتماعی",selectedValue:!!r.value,value:null!==(t=r.value)&&void 0!==t?t:""})}})]}),(0,i.jsx)(a.Qr,{name:"alt",control:v,render:e=>{var t;let{field:r}=e;return(0,i.jsx)(c.nv,{...r,label:"متن جایگزین",placeholder:"متن جایگزین",selectedValue:!!r.value,value:null!==(t=r.value)&&void 0!==t?t:""})}}),(0,i.jsx)(a.Qr,{name:"description",control:v,render:e=>{var t;let{field:r}=e;return(0,i.jsx)(c.Kx,{...r,label:"توضیحات تصویر",placeholder:"توضیحات تصویر",selectedValue:!!r.value,rows:6,value:null!==(t=r.value)&&void 0!==t?t:""})}}),(0,i.jsx)(a.Qr,{name:"summery",control:v,render:e=>{var t;let{field:r}=e;return(0,i.jsx)(c.Kx,{...r,label:"شرح مختصر",placeholder:"شزح مختصر",selectedValue:!!r.value,rows:6,value:null!==(t=r.value)&&void 0!==t?t:""})}})]})}),(0,i.jsx)(d.Z,{submitButtonText:"ثبت و ارسال",closeButtonText:"لفو و بازگشت",isDisableSubmitBtn:!1,isSubmit:!1,onSubmit:()=>{g(y())},onCloseButton:h,isLoading:j})]})}},29962:function(e,t,r){"use strict";var i=r(57437);r(2265);var n=r(43397),o=r(89183),a=r(7507),s=r(82336),l=r(1845),c=r(21949);t.Z=e=>{let{title:t,isNavigation:r}=e,o=(0,n.tv)();return(0,i.jsx)(d,{children:(0,i.jsxs)(p,{children:[(0,i.jsx)(a.xv,{...c.p.title1,style:{color:l.K.gray[11]},children:t}),r&&(0,i.jsx)(a.hU,{size:"3",variant:"surface",onClick:()=>o.back(),children:(0,i.jsx)(s.jb,{color:"#373737"})})]})})};let d=o.ZP.header.withConfig({componentId:"sc-90fceb38-0"})(["padding:14.5px 100px 14.5px 24px;position:sticky;left:0;right:0;top:0;border-bottom:1px solid ",";background-color:",";box-shadow:",";z-index:10;"],l.K.gray[6],l.K.gray[1],l.i.shadow1),p=(0,o.ZP)(a.kC).withConfig({componentId:"sc-90fceb38-1"})(["max-width:1920px;width:100%;display:flex;align-items:center;justify-content:space-between;margin:auto;"])},72549:function(e,t,r){"use strict";var i=r(57437);r(2265);var n=r(94963),o=r(1845),a=r(21949),s=r(7507);t.Z=e=>{let{isSubmit:t=!0,closeButtonText:r,submitButtonText:l,isLoading:c,onCloseButton:d,onSubmit:p,isDisableSubmitBtn:u=!1,disabled:x=!1}=e;return(0,i.jsx)(s.kC,{height:"max-content",gap:"16px",left:"0",p:"16px",right:"0",style:{backgroundColor:o.K.gray[2],marginBlockStart:"auto",borderTop:"1px solid ".concat(o.K.gray[3]),boxShadow:o.i.shadow1,borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px"},position:"sticky",bottom:"0px",children:(0,i.jsxs)(s.rj,{gap:"16px",columns:"2",children:[(0,i.jsx)(s.zx,{disabled:u||x,onClick:p,type:t?"submit":"button",variant:"soft",size:"3",style:{width:"fit-content",padding:"9.5px 38px"},children:c?(0,i.jsx)(n.$j,{}):(0,i.jsx)(s.xv,{...a.p.body1,children:l})}),(0,i.jsx)(s.zx,{type:"button",colorVariant:"PINK",size:"3",onClick:d,style:{width:"fit-content",padding:"9.5px 38px"},children:(0,i.jsx)(s.xv,{...a.p.body1,children:r})})]})})}},77855:function(e,t,r){"use strict";var i=r(57437);r(2265);var n=r(89183),o=r(82336),a=r(1845),s=r(21949),l=r(7507);t.Z=e=>{let{handleClose:t,title:r}=e;return(0,i.jsxs)(c,{position:"sticky",top:"0",p:"8px 16px",justify:"between",style:{backgroundColor:a.K.blue[10],zIndex:"100"},align:"center",children:[(0,i.jsx)(l.xv,{...s.p.title2,style:{color:a.K.gray[1],fontWeight:700},children:r}),(0,i.jsx)(l.hU,{type:"button",onClick:t,variant:"soft",size:"2",style:{backgroundColor:a.K.blue[9],borderRadius:"12px"},children:(0,i.jsx)(o.x8,{})})]})};let c=(0,n.zo)(l.kC).withConfig({componentId:"sc-38bd6e22-0"})(["border-top-right-radius:8px;border-top-left-radius:8px;"])},31067:function(e,t,r){"use strict";r.d(t,{x:function(){return c},z:function(){return d}});var i=r(16463),n=r(38472),o=r(15263),a=r(86300).Buffer;let s="".concat("bznpanelapi",":").concat("VX+kPbS#@sdD5$"),l=a.from(s).toString("base64"),c=n.Z.create({baseURL:"https://api-admin-dev.darkube.app/v1/",headers:{"up-auth":"Basic ".concat(l)}}),d=n.Z.create({baseURL:"https://uploader.bezanimbiroon.ir/admin/uploads/",headers:{"Content-Type":"application/json","up-auth":"Basic ".concat(l)}});d.interceptors.request.use(e=>{let t=new o.Z().get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),c.interceptors.request.use(e=>{let t=new o.Z().get("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),c.interceptors.response.use(e=>e,e=>{if(e.response){let t=e.response.status;401===t?console.error("Unauthorized access - perhaps the token has expired"):403===t?console.error("Forbidden - You do not have permission to access this resource."):t>=500?(console.error("Server error - Please try again later."),(0,i.redirect)("/error")):console.error("Error: ".concat(e.response.statusText))}else e.request?(console.error("Network error - the request was made but no response was received"),(0,i.redirect)("/error")):((0,i.redirect)("/error"),console.error("Error:",e.message));return Promise.reject(e)})}}]);